local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local Container = LocalPlayer.PlayerGui["Small Notification"].Display.Container

local Net = ReplicatedStorage:WaitForChild("Packages")
    :WaitForChild("_Index")
    :WaitForChild("sleitnick_net@0.2.0")
    :WaitForChild("net")

local ChargeFishingRod = Net:WaitForChild("RF/ChargeFishingRod")
local RequestFishingMinigameStarted = Net:WaitForChild("RF/RequestFishingMinigameStarted")

local AutoFishV2 = true -- langsung aktif

-- Step Functions
local function Step1()
    Container.Position = UDim2.new(0.5, 0, -1.89999998, 1)
end

local function Step2()
    ChargeFishingRod:InvokeServer(1759130348.448756)
end

local function Step3()
    RequestFishingMinigameStarted:InvokeServer(-0.5718746185302734, 0.96170184695718)
end

-- Jalankan sekali di awal
if AutoFishV2 then
    Step1()
    task.wait(0.01)
    Step2()
    task.wait(0.01)
    Step3()
end

-- Listener Step4
Container:GetPropertyChangedSignal("Position"):Connect(function()
    if AutoFishV2 and Container.Position == UDim2.new(0.5, 0, 0.100000001, 0) then
        task.wait(0.01)
        Step2()
        task.wait(0.01)
        Step3()
    end
end)

-- Auto Fishing Complite

getgenv().AutoFishing = true

task.spawn(function()
    while getgenv().AutoFishing do
        pcall(function()
            game:GetService("ReplicatedStorage")
                :WaitForChild("Packages")
                :WaitForChild("_Index")
                :WaitForChild("sleitnick_net@0.2.0")
                :WaitForChild("net")
                :WaitForChild("RE/FishingCompleted")
                :FireServer()
        end)
        task.wait(0.1) -- delay biar server nggak ke-spam terlalu cepat
    end
end)

-- Auto Equip Rod

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Remote events
local Net = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net")
local EquipRemote = Net:WaitForChild("RE/EquipToolFromHotbar")
local UnequipRemote = Net:WaitForChild("RE/UnequipToolFromHotbar")

-- Character
local char = workspace:WaitForChild("Characters"):WaitForChild(LocalPlayer.Name)

-- Auto equip loop
task.spawn(function()
    while task.wait(1) do
        -- Kalau masih ada !!!FISHING_VIEW_MODEL!!! berarti rod BELUM dipegang â†’ equip slot 1
        if char:FindFirstChild("!!!FISHING_VIEW_MODEL!!!") then
            EquipRemote:FireServer(1)
        end
    end
end)

