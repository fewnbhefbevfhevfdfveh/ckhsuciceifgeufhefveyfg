local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()

WindUI.TransparencyValue = 0.2
WindUI:SetTheme("Dark")

local function gradient(text, startColor, endColor)
    local result = ""
    for i = 1, #text do
        local t = (i - 1) / (#text - 1)
        local r = math.floor((startColor.R + (endColor.R - startColor.R) * t) * 255)
        local g = math.floor((startColor.G + (endColor.G - startColor.G) * t) * 255)
        local b = math.floor((startColor.B + (endColor.B - startColor.B) * t) * 255)
        result = result .. string.format('<font color="rgb(%d,%d,%d)">%s</font>', r, g, b, text:sub(i, i))
    end
    return result
end

-- ======================== Auto Shake ========================

local VirtualInputManager = game:GetService("VirtualInputManager")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGUI = LocalPlayer:FindFirstChildOfClass("PlayerGui")
local RunService = game:GetService("RunService")
local RenderStepped = RunService.RenderStepped

local autoShake = false
local autoShakeDelay = 0.001
local autoShakeMethod = "KeyCodeEvent"

-- Sistem utama Auto Shake
local autoreelandshakeConnection = PlayerGUI.ChildAdded:Connect(function(GUI)
    if GUI:IsA("ScreenGui") and GUI.Name == "shakeui" then
        if GUI:FindFirstChild("safezone") then
            GUI.safezone.ChildAdded:Connect(function(child)
                if child:IsA("ImageButton") and child.Name == "button" then
                    if autoShake then
                        task.wait(autoShakeDelay)
                        if child.Visible then
                            if autoShakeMethod == "ClickEvent" then
                                local pos = child.AbsolutePosition
                                local size = child.AbsoluteSize
                                VirtualInputManager:SendMouseButtonEvent(pos.X + size.X / 2, pos.Y + size.Y / 2, 0, true, LocalPlayer, 0)
                                VirtualInputManager:SendMouseButtonEvent(pos.X + size.X / 2, pos.Y + size.Y / 2, 0, false, LocalPlayer, 0)
                            elseif autoShakeMethod == "KeyCodeEvent" then
                                while RenderStepped:Wait() do
                                    if autoShake and GUI.safezone:FindFirstChild(child.Name) then
                                        task.wait()
                                        pcall(function()
                                            local GuiService = game:GetService("GuiService")
                                            GuiService.SelectedObject = child
                                            if GuiService.SelectedObject == child then
                                                VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Return, false, game)
                                                VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Return, false, game)
                                            end
                                        end)
                                    else
                                        local GuiService = game:GetService("GuiService")
                                        GuiService.SelectedObject = nil
                                        break
                                    end
                                end
                            end
                        end
                    end
                end
            end)
        end
    end
end)

-- ======================== Auto Reel ========================

-- Services
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGUI = LocalPlayer:FindFirstChildOfClass("PlayerGui")

-- Variables
local autoReel = false
local autoReelDelay = 0.001

-- Auto Reel Handler
PlayerGUI.ChildAdded:Connect(function(GUI)
    if GUI:IsA("ScreenGui") and GUI.Name == "reel" then
        if autoReel then
            repeat
                task.wait(autoReelDelay)
                ReplicatedStorage.events.reelfinished:FireServer(100, false)
            until not GUI or not GUI.Parent
        end
    end
end)

-- ======================== Lock Posisi ========================

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

-- Variabel utama
local lockPosition = false
local savedPosition

-- Looping untuk kunci posisi
RunService.Heartbeat:Connect(function()
    if lockPosition and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local root = LocalPlayer.Character.HumanoidRootPart
        root.Velocity = Vector3.zero
        root.RotVelocity = Vector3.zero
        root.CFrame = CFrame.new(savedPosition)
    end
end)

-- ======================== Equip Rod ========================

--// Variables
local Player = game:GetService("Players").LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local Backpack = Player:WaitForChild("Backpack")

--// State toggle
local autoEquipRod = false
local isHoldingRod = false

--// Fungsi cari tool yang mengandung kata "Rod"
local function FindRod()
    for _, tool in ipairs(Backpack:GetChildren()) do
        if tool:IsA("Tool") and string.find(tool.Name, "Rod") then
            return tool
        end
    end
end

--// Fungsi cek apakah sedang pegang rod
local function CheckHoldingRod()
    for _, tool in ipairs(Character:GetChildren()) do
        if tool:IsA("Tool") and string.find(tool.Name, "Rod") then
            return true, tool
        end
    end
    return false, nil
end

--// Fungsi equip rod
local function EquipRod()
    local Rod = FindRod()
    if Rod then
        Character.Humanoid:EquipTool(Rod)
    end
end

--// Auto equip loop
task.spawn(function()
    while task.wait(0.1) do
        if autoEquipRod then
            local holding, _ = CheckHoldingRod()
            if holding then
                isHoldingRod = true
            else
                isHoldingRod = false
                EquipRod()
            end
        end
    end
end)

-- ======================== Auto Sell ========================

-- Remote
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local SellAll = ReplicatedStorage:WaitForChild("events"):WaitForChild("SellAll") -- RemoteFunction
local npcs = workspace:WaitForChild("world"):WaitForChild("npcs")

-- Variables Auto Sell
local autoSell = false
local sellDelay = 1 -- default 1 detik

-- Fungsi untuk mencari NPC dengan nama belakang "Merchant"
local function getMerchantNPC()
    for _, npc in pairs(npcs:GetChildren()) do
        if npc.Name:match("Merchant$") then
            return npc
        end
    end
    return nil
end

-- Fungsi untuk SellAll
local function sellToNPC(npc)
    if npc and npc:FindFirstChild("description") and npc.description:FindFirstChild("idle") then
        local idle = npc.description.idle
        pcall(function()
            SellAll:InvokeServer({
                idle = idle,
                npc = npc,
                voice = 12
            })
        end)
    end
end


-- ======================== Teleport ========================

local teleportLocations = {
    ["Ancient Archives"] = CFrame.new(-3156.37451, -745.713989, 1683.13574, -0.860117316, 1.84150082e-08, -0.510096252, 2.10384705e-08, 1, 6.26265706e-10, 0.510096252, -1.01929825e-08, -0.860117316),
    ["Ancient Isle"] = CFrame.new(6057.07422, 195.280151, 277.14859, 0.18684645, 2.1313635e-08, 0.982389152, -6.77808432e-08, 1, -8.78668072e-09, -0.982389152, -6.50338237e-08, 0.18684645),
    ["Ancient Isle 1"] = CFrame.new(-3155.02222, -750.667847, 2193.13696, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    ["Ancient Isle 2"] = CFrame.new(5948.79053, 157.230042, 482.23584, 0.764405072, 0, 0.644736409, 0, 1, 0, -0.644736409, 0, 0.764405072),
    ["Atlantis"] = CFrame.new(-4265.13086, -602.574585, 1830.80737, -0.998844504, 0, -0.0480674766, 0, 1, 0, 0.0480674766, 0, -0.998844504),
    ["Blue Moon Pool"] = CFrame.new(2743.1582, 131.499985, 2514.72388, 0.249071687, 8.3022293e-08, 0.968485057, -6.24669099e-08, 1, -6.96588458e-08, -0.968485057, -3.1482192e-08, 0.249071687),
    ["Carrot Garden"] = CFrame.new(3716.6062, -1130.4895, -1078.50793, 0.657635927, -0.000371464179, 0.753335834, -5.71158016e-05, 0.999999821, 0.000542952563, -0.753335953, -0.00040009254, 0.657635808),
    ["Crystal Cove"] = CFrame.new(1350.14526, -604.872681, 2329.95679, -0.408572346, -2.40111309e-08, -0.912725925, 3.4419484e-08, 1, -4.17144292e-08, 0.912725925, -4.84586131e-08, -0.408572346),
    ["Desolate Deep"] = CFrame.new(-1654.96729, -213.520996, -2845.95215, -1, 0, 0, 0, 1, 0, 0, 0, -1),
    ["Forsaken Shores"] = CFrame.new(-2573.6189, 145.750015, 1587.65393, 0.356420547, -6.3444922e-08, -0.934325635, 3.09142578e-08, 1, -5.6111538e-08, 0.934325635, -8.88467877e-09, 0.356420547),
    ["Grand Reef"] = CFrame.new(-3565.76709, 154.360611, 535.246521, -0.457844615, 0, -0.889032245, 0, 1, 0, 0.889032245, 0, -0.457844615),
    ["Moosewood"] = CFrame.new(436.368713, 154, 247.310532, 0.12572813, 0, 0.992064714, 0, 1, 0, -0.992064714, 0, 0.12572813),
    ["Mushgrove Swamp"] = CFrame.new(2662.08105, 397.321472, -728.827026, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    ["Northern Expedition"] = CFrame.new(19526.9629, 140.240601, 5292.56592, -0.457844615, 0, -0.889032245, 0, 1, 0, 0.889032245, 0, -0.457844615),
    ["Podium 1"] = CFrame.new(-3463.94727, -2254.81885, 3832.91699, -0.431924105, 0, 0.901909947, 0, 1, 0, -0.901909947, 0, -0.431924105),
    ["Podium 2"] = CFrame.new(-825.645203, -3269.98804, -709.761169, 0.781674981, 0, 0.623686016, 0, 1, 0, -0.623686016, 0, 0.781674981),
    ["Podium 3"] = CFrame.new(-13488.2939, -11053.1875, 134.38797, -0.27474618, 0.0107955653, -0.96145618, -0.00500683859, 0.999907374, 0.0126580652, 0.961503744, 0.00829161145, -0.274666667),
    ["Podium 4"] = CFrame.new(-4333.00537, -11185.5732, 3196.40845, 0, 0, -1, 0, 1, 0, 1, 0, 0),
    ["Roslit Bay"] = CFrame.new(-1597.0321, 134.780853, 604.949524, 0.394952327, 8.52962927e-08, -0.918701589, -4.72752115e-10, 1, 9.26411516e-08, 0.918701589, -3.61545212e-08, 0.394952327),
    ["Roslit Volcano"] = CFrame.new(-1888.52319, 163.847565, 329.238281, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    ["Snowcap Island"] = CFrame.new(2628.69263, 142.099411, 2510.4458, -0.159515828, 3.14032782e-08, 0.987195373, -1.86964317e-09, 1, -3.2127409e-08, -0.987195373, -6.96839075e-09, -0.159515828),
    ["Statue of Sovereignty"] = CFrame.new(32.7750549, 144.493347, -1020.3197, -0.866953373, 2.6253506e-08, -0.498389244, 4.85347975e-08, 1, 3.1570807e-08, 0.498389244, -5.17150696e-08, -0.866953373),
    ["Sunstone Island"] = CFrame.new(-1046.80713, 134.239044, -1142.7168, 0.129344821, 5.11642035e-08, -0.991599679, 3.86840648e-09, 1, 5.21022378e-08, 0.991599679, -1.05750653e-08, 0.129344821),
    ["Terrapin Island"] = CFrame.new(-207.215851, 142.213226, 1953.05188, -0.414013892, -1.23624488e-07, 0.910270572, -8.38610177e-08, 1, 9.76668118e-08, -0.910270572, -3.59000545e-08, -0.414013892),
    ["The Depths"] = CFrame.new(947.417114, -711.63031, 1259.66516, 0.259314388, -8.87096352e-09, 0.965792954, 2.04304911e-08, 1, 3.69959574e-09, -0.965792954, 1.87722655e-08, 0.259314388),
    ["Vertigo"] = CFrame.new(-112.007278, -492.901093, 1040.32788, -1, 0, 0, 0, 1, 0, 0, 0, -1),
    ["Volcanic Vents"] = CFrame.new(-3421.24292, -2261.84131, 3839.80054, -0.993602812, -8.73249064e-08, -0.11293108, -7.97883573e-08, 1, -7.1255561e-08, 0.11293108, -6.17891374e-08, -0.993602812)
}

-- Ambil nama player
local player = game.Players.LocalPlayer
local playerName = player.Name
local playerDisplayName = player.DisplayName

-- Buat Window versi baru
local Window = WindUI:CreateWindow({
    Title = "Nexa - Beta",
    Icon = "rbxassetid://107488593993096",
    Author = "Fisch Script | @ Han",
    Folder = "Hanzo",
    Size = UDim2.fromOffset(540, 420),
    Transparent = true,
    Theme = "Dark",
    
    HidePanelBackground = true,
    NewElements = false,
    Background = "https://i.imgur.com/GsfBtXF.jpeg",
    User = {
        Enabled = true,
        Anonymous = false,           -- false biar muncul nama asli
        Name = playerDisplayName,    -- Nama tampilan
        UserName = "@" .. playerName, -- Username Roblox
        Callback = function()
            WindUI:Notify({
                Title = "User Profile",
                Content = "User profile clicked!",
                Duration = 3
            })
        end
    },
    
    Acrylic = false,
    HideSearchBar = false,
    SideBarWidth = 200,
})

Window:Tag({
    Title = "v1.2.7",
    Color = Color3.fromHex("#30ff6a")
})


Window:EditOpenButton({
    Enabled = false,
})

-- ✅ Tab dan UI
local Tabs = {
    Home = Window:Tab({ Title = "Home", Icon = "house"  }),
    Farm = Window:Tab({ Title = "Fishing", Icon = "fish"  }),
    Player = Window:Tab({ Title = "Player", Icon = "fish"  }),
    Inv = Window:Tab({ Title = "Inventory", Icon = "fish"  }),
    Teleport = Window:Tab({ Title = "Teleport", Icon = "map-pin"  }),
}

Tabs.Home:Section({ Title = "Update" })

Tabs.Home:Paragraph({
    Title = "Here's what's new:",
    Desc = [[
[/] Fixed Auto Sell
    ]]
})

Tabs.Home:Section({ Title = "Server" })

Tabs.Home:Paragraph({
    Title = "Discord - Nexa | COMMUNITY",
    Desc = "Indonesia 🇮🇩",
    Image = "https://images-eds-ssl.xboxlive.com/image?url=4rt9.lXDC4H_93laV1_eHHFT949fUipzkiFOBH3fAiZZUCdYojwUyX2aTonS1aIwMrx6NUIsHfUHSLzjGJFxxsG72wAo9EWJR4yQWyJJaDaK1XdUso6cUMpI9hAdPUU_FNs11cY1X284vsHrnWtRw7oqRpN1m9YAg21d_aNKnIo-&format=source",
    ImageSize = 20,
    Color = "Grey",
    Buttons = {
        {
            Title = "Copy Link",
            Icon = "copy",
            Variant = "Tertiary",
            Callback = function()
                setclipboard("discord.gg/ECxQFc97F5")
                WindUI:Notify({
                    Title = "Copied!",
                    Content = "Discord link copied to clipboard",
                    Duration = 2
                })
            end
        }
    }
})

Tabs.Farm:Section({ Title = "Fishing" })

-- === WindUI Toggle ===
Tabs.Farm:Toggle({
    Title = "Auto Shake",
    Description = "Automatically clicks the shake button for you",
    Default = false,
    Callback = function(state)
        autoShake = state
        if state then
        else
        end
    end
})

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local autoCast = false
local delayTime = 0.1

-- fungsi cari rod tool
local function getRodTool()
	for _, tool in pairs(character:GetChildren()) do
		if tool:IsA("Tool") and tool:FindFirstChild("events") and tool.events:FindFirstChild("castAsync") then
			return tool
		end
	end
	return nil
end

-- loop auto cast
local function castLoop()
	while autoCast do
		local rod = getRodTool()
		if rod then
			pcall(function()
				rod.events.castAsync:InvokeServer(80.5, 1)
			end)
		end
		task.wait(delayTime)
	end
end

-- toggle WindUI
Tabs.Farm:Toggle({
    Title = "Auto Cast",
    Value = false,
    Callback = function(state)
        autoCast = state
        if state then
            task.spawn(castLoop)
        end
    end
})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local gui = player:WaitForChild("PlayerGui")

local AutoReel = false
local connection

-- WindUI Toggle
Tabs.Farm:Toggle({
    Title = "Auto Reel V1",
    Value = false,
    Callback = function(state)
        AutoReel = state

        if AutoReel then
            -- Tunggu sampai GUI "reel" benar-benar muncul
            local reel
            repeat
                reel = gui:FindFirstChild("reel")
                task.wait(1)
            until reel

            -- Setelah "reel" ada, ambil child berikutnya
            local bar = reel:WaitForChild("bar")
            local playerbar = bar:WaitForChild("playerbar")
            local fish = bar:WaitForChild("fish")

            -- Jalankan pergerakan playerbar mengikuti fish
            connection = RunService.RenderStepped:Connect(function()
                if not AutoReel then return end
                if fish and playerbar then
                    playerbar.Position = fish.Position
                end
            end)
        else
            -- Matikan sistem saat toggle dimatikan
            if connection then
                connection:Disconnect()
                connection = nil
            end
        end
    end
})

-- WindUI Toggle
Tabs.Farm:Toggle({
    Title = "Istant Reel",
    Desc = "Automatically reels in the fishing rod",
    Value = false,
    Callback = function(state)
        autoReel = state
        if state then
        else
        end
    end
})

Tabs.Farm:Toggle({
    Title = "Lock Position",
    Default = false,
    Callback = function(state)
        lockPosition = state
        if lockPosition then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                savedPosition = LocalPlayer.Character.HumanoidRootPart.Position
            end
        end
    end
})

--// WindUI Toggle
Tabs.Farm:Toggle({
    Title = "Auto Equip Rod",
    Value = false,
    Callback = function(state)
        autoEquipRod = state
        if not state then
            isHoldingRod = false
        end
    end
})

Tabs.Player:Section({ Title = "LocalPlayer" })

Tabs.Player:Toggle({ 
    Title = "Disabled Oxygen", 
    Value = false,
    Callback = function(state)

        -- loop terus selama toggle aktif
        spawn(function()
            while state do
                for _, playerModel in pairs(workspace:GetChildren()) do
                    if playerModel:FindFirstChild("Resources") then
                        local oxygen = playerModel.Resources:FindFirstChild("oxygen")
                        if oxygen then
                            if oxygen:IsA("BoolValue") then
                                oxygen.Value = false
                            else
                                oxygen.Enabled = false
                            end
                        end
                    end
                end
                wait(1) -- delay 1 detik
            end
        end)
    end
})

Tabs.Inv:Section({ Title = "Sell" })

-- Slider untuk delay
Tabs.Inv:Slider({ 
    Title = "Sell Delay (Second)", 
    Step = 1, 
    Value = {
        Min = 1, 
        Max = 100, 
        Default = 1, 
    },
    Callback = function(value)
        sellDelay = value
    end
})

-- Toggle Auto SellAll
Tabs.Inv:Toggle({ 
    Title = "Auto SellAll", 
    Value = false,
    Callback = function(state)
        autoSell = state
    end
})

-- Loop Auto SellAll
spawn(function()
    while true do
        if autoSell then
            local npc = getMerchantNPC()
            if npc then
                sellToNPC(npc)
            end
        end
        wait(sellDelay)
    end
end)

Tabs.Teleport:Section({ Title = "Island" })

Tabs.Teleport:Dropdown({
    Title = "Select Location",
    Values = {
        "Ancient Archives", "Ancient Isle", "Ancient Isle 1", "Ancient Isle 2", "Atlantis",
        "Blue Moon Pool", "Carrot Garden", "Crystal Cove", "Desolate Deep", "Forsaken Shores",
        "Grand Reef", "Moosewood", "Mushgrove Swamp", "Northern Expedition", "Podium 1",
        "Podium 2", "Podium 3", "Podium 4", "Roslit Bay", "Roslit Volcano",
        "Snowcap Island", "Statue of Sovereignty", "Sunstone Island", "Terrapin Island",
        "The Depths", "Vertigo", "Volcanic Vents"
    },
    SearchBarEnabled = true,
    Value = "Ancient Archives",
    Callback = function(option)
        selectedLocation = option
    end
})

Tabs.Teleport:Button({
    Title = "Teleport",
    Callback = function()
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()

        if selectedLocation and teleportLocations[selectedLocation] then
            character:WaitForChild("HumanoidRootPart").CFrame = teleportLocations[selectedLocation]
        else
            warn("Please select a valid location!")
        end
    end
})

-------------------------------------------------------
-- TOGGLE BUTTON (PUTIH AGAK TRANSPARAN)
-------------------------------------------------------
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui
ScreenGui.Name = "WindUIButton"

-- 🔘 ImageButton utama
local ImgBtn = Instance.new("ImageButton")
ImgBtn.Parent = ScreenGui
ImgBtn.Size = UDim2.new(0, 60, 0, 60)
ImgBtn.Position = UDim2.new(0, 100, 1, -300)
ImgBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- warna putih
ImgBtn.BackgroundTransparency = 0.3 -- agak transparan
ImgBtn.Image = "rbxassetid://137184014634632" -- icon planet
ImgBtn.ImageTransparency = 0.15 -- icon sedikit transparan juga
ImgBtn.ImageColor3 = Color3.fromRGB(255, 255, 255)
ImgBtn.AutoButtonColor = false

-- 🔲 Sudut membulat
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(1, 0) -- full bulat
UICorner.Parent = ImgBtn

-- ✏️ Garis pinggir halus
local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.fromRGB(200, 200, 200)
UIStroke.Thickness = 2
UIStroke.Transparency = 0.4 -- agak transparan
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
UIStroke.Parent = ImgBtn

local isOpen = false

-- 🔄 Animasi klik
local function playClickAnim()
	local shrink = TweenService:Create(ImgBtn, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
		Size = UDim2.new(0, 50, 0, 50),
		BackgroundTransparency = 0.45
	})
	local grow = TweenService:Create(ImgBtn, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
		Size = UDim2.new(0, 60, 0, 60),
		BackgroundTransparency = 0.3
	})
	shrink:Play()
	shrink.Completed:Wait()
	grow:Play()
end

-- 🟢 Buka/tutup GUI
ImgBtn.MouseButton1Click:Connect(function()
	playClickAnim()
	isOpen = not isOpen
	if isOpen then
		Window:Open()
	else
		Window:Close()
	end
end)

-- 🖱️ Drag agar bisa dipindah
local dragging, dragInput, dragStart, startPos

local function update(input)
	local delta = input.Position - dragStart
	ImgBtn.Position = UDim2.new(
		startPos.X.Scale, startPos.X.Offset + delta.X,
		startPos.Y.Scale, startPos.Y.Offset + delta.Y
	)
end

ImgBtn.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = ImgBtn.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then dragging = false end
		end)
	end
end)

ImgBtn.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		update(input)
	end
end)
