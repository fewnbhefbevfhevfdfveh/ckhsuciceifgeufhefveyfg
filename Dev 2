local Chloex = loadstring(game:HttpGet("https://raw.githubusercontent.com/Gato290/ui/refs/heads/main/main.lua"))()

local GameData = {
	-- // Auto Shoot Fish, Safe Oxygen, Sell Fish

    Playersv1 = game:GetService("Players"),
    ReplicatedStoragev1 = game:GetService("ReplicatedStorage"),
    TweenServicev1 = game:GetService("TweenService"),

    Playerv1 = nil,
    Characterv1 = nil,

    AutoShootv1 = false,
    AutoSellv1 = false,
    AutoSafeZonev1 = false,
    SelectedFishv1 = {},
    SelectedMutationsv1 = {},
    CurrentTargetModelv1 = nil,

    SAFE_DISTANCEv1 = 1,
    COLLECT_DISTANCEv1 = 4,

    FishFolderv1 = nil,
    Fishv1 = {},

    CollectEventv1 = nil,
    StartCatchEventv1 = nil,
    SellEventv1 = nil,

    shootCooldownv1 = 0.001,
    catchCooldownv1 = 0.001,
    lastShootv1 = 0,
    lastCatchv1 = 0,

    isTweeningOxygenV1 = false,
    OxygenThresholdV1 = 20,
    oxygenLabelV1 = nil,

    isSellingSellV1 = false,
    SellModev1 = "Sell Delay",
    SellDelayv1 = 30,
    lastSellTimev1 = 0,

    weightGuiV1 = nil,
    maxLabelV1 = nil,
    wghtLabelV1 = nil,

    cancelSafeZoneTweenV1 = false,
    activeSafeZoneTweenV1 = nil,

    SelectedSafeZoneV1 = "The Forgotten Dome",
    SelectedSellLocationV1 = "The Forgotten Dome",

    WHITELIST_ZONESv1 = {
        ["The Forgotten Dome"]  = true,
        ["Spirit Root Hollow"]  = true,
        ["Crazy Jeff's Store"]  = true,
    },

    SafeZoneCFramesV1 = {
        ["The Forgotten Dome"]  = CFrame.new(-2.205, 4884.06, -1.224),
        ["Spirit Root Hollow"]  = CFrame.new(1655.23535, 4040.88354, -1955.32068),
        ["Crazy Jeff's Store"]  = CFrame.new(-1790.41, 4463.66, 275.98),
    },

    TweenSpeedToFishV1     = 20,
    TweenSpeedToSafeDistV1 = 20,
    TweenSpeedToSafeZoneV1 = 10,
    TweenSpeedToSellZoneV1 = 10,

    MutationsFolderv1 = nil,
    MutationNamesv1   = {},

    FishPresetsFolderv1  = nil,
    FishRarityMapv1      = {},
    RarityNamesv1        = {},
    SelectedRaritiesv1   = {},

    SelectedLocationV1       = nil,
    isTweeningToLocationV1   = false,
    cancelLocationTweenV1    = false,
    activeLocationTweenV1    = nil,
    TweenSpeedToLocationV1   = 10,
    locationJustChangedV1    = false,

    isTweeningToSellLocationV1  = false,
    cancelSellLocationTweenV1   = false,
    activeSellLocationTweenV1   = nil,

    LocationCFramesV1 = {
        ["Ancient Sands"]  = CFrame.new(-1790.41, 4463.66, 275.98),
        ["Spirit Roots"]   = CFrame.new(1532.13, 4076.12, -1795.08),
        ["Forgotten Deep"] = CFrame.new(207.66, 4864.95, 22.78),
    },

    locationNamesV1 = {},
    safeZoneNamesV1 = {},
    raritySetV1     = {},

	-- // Cast Mode

    Servicesv2 = {
        Playersv2 = game:GetService("Players"),
        ReplicatedStoragev2 = game:GetService("ReplicatedStorage"),
    },

    Playerv2 = nil,

    UIv2 = {
        Greenv2 = nil,
        Gradientv2 = nil,
    },

    AutoCastv2 = false,
    LoopThreadv2 = nil,
    CastModev2 = "Normal",

    Remotesv2 = {
        CancelMinigamev2 = nil,
    },

	--// Auto Respawn

    Servicesv3 = {
        ReplicatedStoragev3 = game:GetService("ReplicatedStorage"),
    },

    AutoRespawnv3 = false,

    Remotesv3 = {
        Respawnv3 = nil,
    },

	-- // Auto Equip Guns

    Servicesv4 = {
        Players = game:GetService("Players"),
        ReplicatedStoragev4 = game:GetService("ReplicatedStorage"),
        Workspacev4 = workspace
    },

    LocalPlayerv4 = game:GetService("Players").LocalPlayer,
    Remotesv4 = {},
    AutoEquipv4 = false,
    Connectionsv4 = {},

	-- // WalkSpeed

    Servicesv5 = {
        Playersv5 = game:GetService("Players"),
    },
    Playerv5 = nil,
    WalkEnabledv5 = false,
    CustomSpeedv5 = 16,
    DefaultSpeedv5 = 16,

	-- // Zoom 1000

    Servicesv6 = {
        Playersv6 = game:GetService("Players"),
    },

    Playerv6 = nil,

    ZoomEnabledv6 = false,

    ZoomMaxv6 = 1000,
    DefaultMaxv6 = 128,
    MinZoomv6 = 0.5,

	-- // Equip Items Guns

    Servicesv7 = {
        ReplicatedStoragev7 = game:GetService("ReplicatedStorage"),
    },

    GunsFolderv7 = nil,
    GunOptionsv7 = {},
    SelectedGunv7 = nil,

    Remotesv7 = {
        EquipItemv7 = nil,
    },

	-- // Equip Items Tubes

    Servicesv8 = {
        ReplicatedStoragev8 = game:GetService("ReplicatedStorage"),
    },

    TubesFolderv8 = nil,
    TubeOptionsv8 = {},
    SelectedTubev8 = nil,

    Remotesv8 = {
        EquipItemv8 = nil,
    },

	-- // Teleport Locations

    Servicesv9 = {
        TweenServicev9 = game:GetService("TweenService"),
        Playersv9 = game:GetService("Players"),
    },

    Playerv9 = nil,

    Locationsv9 = {
        ["Golem's Cave"]       = CFrame.new(1705.53, 3956.89, -2650.63),
        ["Angler Cave"]        = CFrame.new(439.21, 4171.75, 155.40),
        ["Angler Cave - Shop"] = CFrame.new(735.37, 4266.42, -159.23),
        ["The Forgotten Demo"] = CFrame.new(-2.205, 4884.06, -1.224),
        ["Spirit Root Hollow"] = CFrame.new(1670.37, 4041.22, -1918.33),
        ["Morveth's Cave"]     = CFrame.new(-230.59, 4307.52, -1281.05),
        ["King Cat Cave"]      = CFrame.new(2172.57, 3825.56, -2929.93),
		["Ancient Sands"]      = CFrame.new(-1790.41, 4463.66, 275.98),
    },

    LocationOptionsv9 = {},
    SelectedLocationv9 = nil,

	-- // Favorite Fish

    ReplicatedStoragev10 = game:GetService("ReplicatedStorage"),
    Knitv10 = nil,
    FavoriteRFv10 = nil,
    rarityMapv10 = {},
    fishFolderv10 = nil,
    mutationListv10 = {"None"},
    mutationsFolderv10 = nil,
    fishListv10 = {"None"},
    fishAssetsFolderv10 = nil,
    selectedRarityv10 = "None",
    selectedMutationv10 = "None",
    selectedFishv10 = "None",
    autoFavRunningv10 = false,
    autoUnfavRunningv10 = false,

	-- // Buy Item Guns

    Servicesv11 = {
        ReplicatedStoragev11 = game:GetService("ReplicatedStorage"),
    },
    GunsFolderv11 = nil,
    GunOptionsv11 = {},
    SelectedGunv11 = nil,
    Remotesv11 = {
        BuyItemv11 = nil,
    },

	-- // Buy Item Tubes

    Servicesv12 = {
        ReplicatedStoragev12 = game:GetService("ReplicatedStorage"),
    },
    TubesFolderv12 = nil,
    TubeOptionsv12 = {},
    SelectedTubev12 = nil,
    Remotesv12 = {
        BuyItemv12 = nil,
    },

	-- // Auto Claim Bestiary

    Servicesv13 = {
        ReplicatedStoragev13 = game:GetService("ReplicatedStorage"),
    },

    FishFolderv13 = nil,

    Remotesv13 = {
        ClaimRewardv13 = nil,
    },

    AutoClaimBestiaryv13 = false,

	-- // Auto Treasure Hunt

    Servicesv14 = {
        TweenServicev14 = game:GetService("TweenService"),
        ReplicatedStoragev14 = game:GetService("ReplicatedStorage"),
        Playersv14 = game:GetService("Players")
    },

    Playerv14 = nil,
    Characterv14 = nil,
    HumanoidRootPartv14 = nil,

    Chestv14 = {
        Runningv14 = false,
        SelectedTiersv14 = {},
        TierOptionsv14 = {},
        TweenInfov14 = TweenInfo.new(25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    },
}

local Window = Chloex:Window({
    Title = "Nexa | v0.0.5 |",
    Footer = "Beta",
    Content = "Abyss",
    Color = "Default",
    Version = 1.0,
    ["Tab Width"] = 120,
    Image = "70884221600423",
    Configname = "Nexa",
    Uitransparent = 0.20,
    ShowUser = true,
	Search = true,  
    Config = {
        AutoSave = true,
        AutoLoad = true, 
    }
})

local Tabs = {
    Home = Window:AddTab({
        Name = "Home",
        Icon = "lucide:house",
    }),

    Main = Window:AddTab({
        Name = "Main",
        Icon = "lucide:swords",
    }),

    Backpack = Window:AddTab({
        Name = "Backpack",
        Icon = "lucide:backpack",
    }),

    Tp = Window:AddTab({
        Name = "Teleport",
        Icon = "lucide:map",
    }),

    Shop = Window:AddTab({
        Name = "Shop",
        Icon = "lucide:store",
    }),

}

local Sec = {}

Sec.Home1 = Tabs.Home:AddSection({
    Title = "Update Log",
    Open = false
})

Sec.Home1:AddParagraph({
    Title = "Whats New?",
    Content = [[
[+] Added Auto Treasure Hunt
[+] Added Dropdwon Select Tier Chest
[+] Added Auto Claim Bestiary 
[+] Added Tween Speed Sell
[+] Added Monitor Fish
[+] Added Location Fish Farm
[+] Added Location Tween Speed
[+] Added Location Safe Zone
	]]
})

Sec.Home1:AddParagraph({
    Title = "NexaHub Official Discord",
    Content = "Join the official NexaHub community to stay updated with the latest features, announcements, and exclusive news. Connect with other members and get direct support from our team!",
    Icon = "rbxassetid://94434236999817",
    ButtonText = "Copy Discord Link",
    ButtonCallback = function()
        setclipboard("discord.gg/ECxQFc97F5")
    end,
})

Sec.Main1 = Tabs.Main:AddSection({
    Title = "LocalPlayer",
    Open = false
})

-- // Auto Respawn

GameData.Remotesv3.Respawnv3 = GameData.Servicesv3.ReplicatedStoragev3
    .common.packages.Knit.Services.MovementService.RF.Respawn

Sec.Main1:AddToggle({
    Title = "Auto Respawn",
    Default = false,
    Callback = function(v)
        GameData.AutoRespawnv3 = v
    end
})

task.spawn(function()
    while true do
        if GameData.AutoRespawnv3 then
            GameData.Remotesv3.Respawnv3:InvokeServer("free")
        end
        task.wait(1)
    end
end)

-- // WalkSpeed

GameData.Playerv5 = GameData.Servicesv5.Playersv5.LocalPlayer

function GameData:ApplySpeedv5()
    if self.Playerv5.Character and self.Playerv5.Character:FindFirstChild("Humanoid") then
        local humanoid = self.Playerv5.Character:FindFirstChild("Humanoid")

        if self.WalkEnabledv5 then
            humanoid.WalkSpeed = self.CustomSpeedv5
        else
            humanoid.WalkSpeed = self.DefaultSpeedv5
        end
    end
end

GameData.Playerv5.CharacterAdded:Connect(function()
    task.wait(0.5)
    GameData:ApplySpeedv5()
end)

Sec.Main1:AddSlider({
    Title = "WalkSpeed",
    Content = "Set your custom WalkSpeed",
    Min = 0,
    Max = 200,
    Default = 16,
    Increment = 1,
    Callback = function(value)
        GameData.CustomSpeedv5 = value

        if GameData.WalkEnabledv5 then
            GameData:ApplySpeedv5()
        end
    end
})

Sec.Main1:AddToggle({
    Title = "Enable WalkSpeed",
    Default = false,
    Callback = function(v)
        GameData.WalkEnabledv5 = v
        GameData:ApplySpeedv5()

        if v then
            Notify("WalkSpeed Enabled!", 2)
        else
            Notify("WalkSpeed Disabled!", 2)
        end
    end
})

-- // Zoom 1000

GameData.Playerv6 = GameData.Servicesv6.Playersv6.LocalPlayer

Sec.Main1:AddToggle({
    Title = "Zoom Max 1000",
    Default = false,
    Callback = function(v)
        GameData.ZoomEnabledv6 = v

        if v then
            GameData.Playerv6.CameraMaxZoomDistance = GameData.ZoomMaxv6
            GameData.Playerv6.CameraMinZoomDistance = GameData.MinZoomv6

            Notify("Zoom 1000 Enabled!", 2)
        else
            GameData.Playerv6.CameraMaxZoomDistance = GameData.DefaultMaxv6
            GameData.Playerv6.CameraMinZoomDistance = GameData.MinZoomv6

            Notify("Zoom 1000 Disabled!", 2)
        end
    end
})

Sec.Main2 = Tabs.Main:AddSection({
    Title = "Fish Farm",
    Open = false
})

-- // Auto Shoot Fish

GameData.Playerv1    = GameData.Playersv1.LocalPlayer
GameData.Characterv1 = GameData.Playerv1.Character or GameData.Playerv1.CharacterAdded:Wait()

GameData.Playerv1.CharacterAdded:Connect(function(char)
    GameData.Characterv1 = char
end)

GameData.FishFolderv1 = GameData.ReplicatedStoragev1
    :WaitForChild("common")
    :WaitForChild("assets")
    :WaitForChild("fish")

for _, fish in ipairs(GameData.FishFolderv1:GetChildren()) do
    table.insert(GameData.Fishv1, fish.Name)
end

GameData.MutationsFolderv1 = GameData.ReplicatedStoragev1
    :WaitForChild("common")
    :WaitForChild("presets")
    :WaitForChild("fish")
    :WaitForChild("mutations")

for _, mutation in ipairs(GameData.MutationsFolderv1:GetChildren()) do
    table.insert(GameData.MutationNamesv1, mutation.Name)
end
table.sort(GameData.MutationNamesv1)

GameData.FishPresetsFolderv1 = GameData.ReplicatedStoragev1
    :WaitForChild("common")
    :WaitForChild("presets")
    :WaitForChild("items")
    :WaitForChild("fish")

for _, folder in ipairs(GameData.FishPresetsFolderv1:GetChildren()) do
    if folder:IsA("Folder") then
        for _, module in ipairs(folder:GetChildren()) do
            if module:IsA("ModuleScript") then
                local success, data = pcall(require, module)
                if success and type(data) == "table" and data.rarity then
                    GameData.FishRarityMapv1[module.Name] = tostring(data.rarity)
                    GameData.raritySetV1[tostring(data.rarity)] = true
                end
            end
        end
    end
end
for rarityName in pairs(GameData.raritySetV1) do
    table.insert(GameData.RarityNamesv1, rarityName)
end
table.sort(GameData.RarityNamesv1)
GameData.raritySetV1 = nil

GameData.CollectEventv1 = GameData.ReplicatedStoragev1
    :WaitForChild("common"):WaitForChild("packages"):WaitForChild("Knit")
    :WaitForChild("Services"):WaitForChild("FishService"):WaitForChild("RF"):WaitForChild("CollectFish")

GameData.StartCatchEventv1 = GameData.ReplicatedStoragev1
    :WaitForChild("common"):WaitForChild("packages"):WaitForChild("Knit")
    :WaitForChild("Services"):WaitForChild("HarpoonService"):WaitForChild("RF"):WaitForChild("StartCatching")

GameData.SellEventv1 = GameData.ReplicatedStoragev1
    :WaitForChild("common"):WaitForChild("packages"):WaitForChild("Knit")
    :WaitForChild("Services"):WaitForChild("SellService"):WaitForChild("RF"):WaitForChild("SellInventory")

GameData.oxygenLabelV1 = GameData.Playerv1.PlayerGui
    :WaitForChild("Main"):WaitForChild("Oxygen"):WaitForChild("CanvasGroup"):WaitForChild("Oxygen")

GameData.weightGuiV1 = GameData.Playerv1.PlayerGui.Main.Oxygen.RightStats.Frame.Weight
GameData.maxLabelV1  = GameData.weightGuiV1.Max
GameData.wghtLabelV1 = GameData.weightGuiV1.Wght

for name in pairs(GameData.LocationCFramesV1) do
    table.insert(GameData.locationNamesV1, name)
end
table.sort(GameData.locationNamesV1)

for name in pairs(GameData.SafeZoneCFramesV1) do
    table.insert(GameData.safeZoneNamesV1, name)
end
table.sort(GameData.safeZoneNamesV1)

-- ============================================================
--  HELPER
-- ============================================================
function GameData:IsInZoneV1(zoneName)
    local character = self.Characterv1
    if not character or not character:FindFirstChild("HumanoidRootPart") then return false end
    local pos = character.HumanoidRootPart.Position

    local zone = workspace.Game.Regions.Locations:FindFirstChild(zoneName)
    if not zone then
        warn("[IsInZoneV1] Zona tidak ditemukan di workspace:", zoneName)
        return false
    end

    for _, part in ipairs(zone:GetDescendants()) do
        if part:IsA("BasePart") then
            local relative = part.CFrame:PointToObjectSpace(pos)
            local size = part.Size / 2
            if math.abs(relative.X) <= size.X
            and math.abs(relative.Y) <= size.Y
            and math.abs(relative.Z) <= size.Z then
                return true
            end
        end
    end
    return false
end

-- ============================================================
--  SAFE ZONE (Oxygen)
-- ============================================================
function GameData:IsInSafeZoneV1()
    local character = self.Characterv1
    if not character or not character:FindFirstChild("HumanoidRootPart") then return false, nil end
    local pos = character.HumanoidRootPart.Position

    for _, zone in pairs(workspace.Game.Regions.Locations:GetChildren()) do
        if zone:GetAttribute("breathable") and zone.Name == self.SelectedSafeZoneV1 then
            for _, part in ipairs(zone:GetDescendants()) do
                if part:IsA("BasePart") then
                    local relative = part.CFrame:PointToObjectSpace(pos)
                    local size = part.Size / 2
                    if math.abs(relative.X) <= size.X
                    and math.abs(relative.Y) <= size.Y
                    and math.abs(relative.Z) <= size.Z then
                        return true, zone.Name
                    end
                end
            end
        end
    end
    return false, nil
end

-- ============================================================
--  SELL ZONE
-- ============================================================
function GameData:IsInSellZoneV1()
    local character = self.Characterv1
    if not character or not character:FindFirstChild("HumanoidRootPart") then return false, nil end
    local pos = character.HumanoidRootPart.Position

    for _, zone in pairs(workspace.Game.Regions.Locations:GetChildren()) do
        if zone:GetAttribute("breathable") and zone.Name == self.SelectedSellLocationV1 then
            for _, part in ipairs(zone:GetDescendants()) do
                if part:IsA("BasePart") then
                    local relative = part.CFrame:PointToObjectSpace(pos)
                    local size = part.Size / 2
                    if math.abs(relative.X) <= size.X
                    and math.abs(relative.Y) <= size.Y
                    and math.abs(relative.Z) <= size.Z then
                        return true, zone.Name
                    end
                end
            end
        end
    end
    return false, nil
end

function GameData:WaitUntilInSafeZoneV1(timeout)
    timeout = timeout or 30
    local elapsed = 0
    while elapsed < timeout do
        local inZone, zoneName = self:IsInSafeZoneV1()
        if inZone then return true, zoneName end
        task.wait(0.2)
        elapsed = elapsed + 0.2
        if self.cancelSafeZoneTweenV1 then return false, nil end
    end
    return false, nil
end

function GameData:WaitUntilInSellZoneV1(timeout)
    timeout = timeout or 30
    local elapsed = 0
    while elapsed < timeout do
        local inZone, zoneName = self:IsInSellZoneV1()
        if inZone then return true, zoneName end
        task.wait(0.2)
        elapsed = elapsed + 0.2
        if self.cancelSellLocationTweenV1 then return false, nil end
    end
    return false, nil
end

function GameData:GetNearestSafeZonev1()
    if not self.Characterv1 then return nil, nil end
    local hrp = self.Characterv1:FindFirstChild("HumanoidRootPart")
    if not hrp then return nil, nil end

    local nearestZone, nearestPart, shortestDistance = nil, nil, math.huge

    for _, zone in pairs(workspace.Game.Regions.Locations:GetChildren()) do
        if zone:GetAttribute("breathable") and zone.Name == self.SelectedSafeZoneV1 then
            for _, part in ipairs(zone:GetDescendants()) do
                if part:IsA("BasePart") then
                    local distance = (hrp.Position - part.Position).Magnitude
                    if distance < shortestDistance then
                        shortestDistance = distance
                        nearestZone = zone
                        nearestPart = part
                    end
                end
            end
        end
    end

    return nearestZone, nearestPart
end

function GameData:GetNearestSellZoneV1()
    if not self.Characterv1 then return nil, nil end
    local hrp = self.Characterv1:FindFirstChild("HumanoidRootPart")
    if not hrp then return nil, nil end

    local nearestZone, nearestPart, shortestDistance = nil, nil, math.huge

    for _, zone in pairs(workspace.Game.Regions.Locations:GetChildren()) do
        if zone:GetAttribute("breathable") and zone.Name == self.SelectedSellLocationV1 then
            for _, part in ipairs(zone:GetDescendants()) do
                if part:IsA("BasePart") then
                    local distance = (hrp.Position - part.Position).Magnitude
                    if distance < shortestDistance then
                        shortestDistance = distance
                        nearestZone = zone
                        nearestPart = part
                    end
                end
            end
        end
    end

    return nearestZone, nearestPart
end

-- Safe Zone: harus sampai CFrame, tidak stop di tengah jalan
function GameData:TweenToSafeZoneAndWaitV1()
    local hrp = self.Characterv1 and self.Characterv1:FindFirstChild("HumanoidRootPart")
    if not hrp then return false end

    local zone, part = self:GetNearestSafeZonev1()
    if not zone then
        warn("Zona aman (oxygen) tidak ditemukan:", self.SelectedSafeZoneV1)
        return false
    end

    local targetPosition = part.Position + Vector3.new(0, 5, 0)
    self.cancelSafeZoneTweenV1 = false

    local distance = (hrp.Position - targetPosition).Magnitude
    local duration = math.max(1, distance / (self.TweenSpeedToSafeZoneV1 * 10))

    local tween = self.TweenServicev1:Create(
        hrp,
        TweenInfo.new(duration, Enum.EasingStyle.Sine, Enum.EasingDirection.Out),
        {CFrame = CFrame.new(targetPosition)}
    )

    self.activeSafeZoneTweenV1 = tween
    tween:Play()
    tween.Completed:Wait()

    if self.cancelSafeZoneTweenV1 then
        self.activeSafeZoneTweenV1 = nil
        return false
    end

    self.activeSafeZoneTweenV1 = nil

    local inZone, zoneName = self:IsInSafeZoneV1()
    if inZone then return true, zoneName end

    local success, zoneName2 = self:WaitUntilInSafeZoneV1(30)
    if success then
        return true, zoneName2
    else
        warn("Timeout: Tidak sampai zona oxygen")
        return false
    end
end

-- Sell Zone: harus sampai CFrame, tidak stop di tengah jalan
function GameData:TweenToSellZoneAndWaitV1()
    local hrp = self.Characterv1 and self.Characterv1:FindFirstChild("HumanoidRootPart")
    if not hrp then return false end

    local zone, part = self:GetNearestSellZoneV1()
    if not zone then
        warn("Zona sell tidak ditemukan:", self.SelectedSellLocationV1)
        return false
    end

    local targetPosition = part.Position + Vector3.new(0, 5, 0)
    self.cancelSellLocationTweenV1 = false

    local distance = (hrp.Position - targetPosition).Magnitude
    local duration = math.max(1, distance / (self.TweenSpeedToSellZoneV1 * 10))

    local tween = self.TweenServicev1:Create(
        hrp,
        TweenInfo.new(duration, Enum.EasingStyle.Sine, Enum.EasingDirection.Out),
        {CFrame = CFrame.new(targetPosition)}
    )

    self.activeSellLocationTweenV1 = tween
    tween:Play()
    tween.Completed:Wait()

    if self.cancelSellLocationTweenV1 then
        self.activeSellLocationTweenV1 = nil
        return false
    end

    self.activeSellLocationTweenV1 = nil

    local inZone, zoneName = self:IsInSellZoneV1()
    if inZone then return true, zoneName end

    local success, zoneName2 = self:WaitUntilInSellZoneV1(30)
    if success then
        return true, zoneName2
    else
        warn("Timeout: Tidak sampai zona sell")
        return false
    end
end

function GameData:CancelSafeZoneTweenV1()
    self.cancelSafeZoneTweenV1 = true
    if self.activeSafeZoneTweenV1 then
        self.activeSafeZoneTweenV1:Cancel()
        self.activeSafeZoneTweenV1 = nil
    end
    self.isTweeningOxygenV1 = false
end

function GameData:CancelSellLocationTweenV1()
    self.cancelSellLocationTweenV1 = true
    if self.activeSellLocationTweenV1 then
        self.activeSellLocationTweenV1:Cancel()
        self.activeSellLocationTweenV1 = nil
    end
    self.isSellingSellV1 = false
end

function GameData:TweenToSafeZoneOxygenV1()
    if self.isTweeningOxygenV1 then return end
    self.isTweeningOxygenV1 = true
    self.CurrentTargetModelv1 = nil

    local success, zoneName = self:TweenToSafeZoneAndWaitV1()
    if success then
        print("Sampai zona oxygen:", zoneName)
    else
        warn("Gagal sampai zona oxygen, akan dicoba lagi oleh retry loop")
    end

    self.isTweeningOxygenV1 = false
end

function GameData:AutoSellV1()
    if self.isSellingSellV1 then return end

    self.isSellingSellV1 = true
    self.CurrentTargetModelv1 = nil

    local tweenSuccess, zoneName = self:TweenToSellZoneAndWaitV1()
    if not tweenSuccess then
        warn("Gagal sampai zona sell, akan dicoba lagi oleh retry loop")
        self.isSellingSellV1 = false
        return
    end

    print("Sampai zona sell:", zoneName, "â€” verifikasi ulang...")
    local inZone, confirmedZone = self:IsInSellZoneV1()

    if inZone then
        print("Terverifikasi di zona sell:", confirmedZone, "â€” mulai sell!")
        task.wait(0.3)
        pcall(function()
            GameData.SellEventv1:InvokeServer()
        end)
        print("Sell inventory berhasil!")
        GameData.lastSellTimev1 = tick()
    else
        warn("Tidak terdeteksi di zona sell setelah tween, sell dibatalkan")
    end

    self.isSellingSellV1 = false
end

-- ============================================================
--  LOCATION TWEEN (shoot fish) - stop kalau udah di zone
-- ============================================================
function GameData:TweenToSelectedLocationV1()
    if self.isTweeningToLocationV1 then return end
    if not self.SelectedLocationV1 then return end

    local targetCF = self.LocationCFramesV1[self.SelectedLocationV1]
    if not targetCF then
        warn("CFrame tidak ditemukan untuk lokasi:", self.SelectedLocationV1)
        return
    end

    local hrp = self.Characterv1 and self.Characterv1:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    if self:IsInZoneV1(self.SelectedLocationV1) then
        print("Sudah berada di zona:", self.SelectedLocationV1)
        return
    end

    self.isTweeningToLocationV1 = true
    self.cancelLocationTweenV1  = false
    self.CurrentTargetModelv1   = nil

    print("Tween ke lokasi:", self.SelectedLocationV1)

    local distance = (hrp.Position - targetCF.Position).Magnitude
    local duration = math.max(1, distance / (self.TweenSpeedToLocationV1 * 10))

    local tween = self.TweenServicev1:Create(
        hrp,
        TweenInfo.new(duration, Enum.EasingStyle.Sine, Enum.EasingDirection.Out),
        {CFrame = targetCF}
    )

    self.activeLocationTweenV1 = tween
    tween:Play()

    local selectedLoc = self.SelectedLocationV1
    task.spawn(function()
        while tween.PlaybackState == Enum.PlaybackState.Playing do
            if self:IsInZoneV1(selectedLoc) then
                tween:Cancel()
                print("Sudah masuk zona sebelum tween selesai:", selectedLoc)
                break
            end
            if self.cancelLocationTweenV1 then break end
            task.wait(0.2)
        end
    end)

    tween.Completed:Wait()
    self.activeLocationTweenV1 = nil
    self.isTweeningToLocationV1 = false
end

function GameData:CancelLocationTweenV1()
    self.cancelLocationTweenV1 = true
    if self.activeLocationTweenV1 then
        self.activeLocationTweenV1:Cancel()
        self.activeLocationTweenV1 = nil
    end
    self.isTweeningToLocationV1 = false
end

-- ============================================================
--  FISH HELPERS
-- ============================================================
function GameData:IsDeadv1(model)
    if not model or not model.Parent then return true end
    local head = model:FindFirstChild("Head")
    if not head then return true end
    local stats = head:FindFirstChild("stats")
    if not stats then return true end
    local health = stats:FindFirstChild("Health")
    if not health then return true end
    local amount = health:FindFirstChild("Amount")
    if not amount then return true end
    local current = amount.Text:match("^(%d+)/")
    return current and tonumber(current) == 0
end

function GameData:IsSelectedFishv1(model)
    local hasFishFilter     = #self.SelectedFishv1 > 0
    local hasMutationFilter = #self.SelectedMutationsv1 > 0
    local hasRarityFilter   = #self.SelectedRaritiesv1 > 0

    if not hasFishFilter and not hasMutationFilter and not hasRarityFilter then return false end

    local head = model:FindFirstChild("Head")
    if not head then return false end
    local stats = head:FindFirstChild("stats")
    if not stats then return false end

    local fishPart     = stats:FindFirstChild("Fish")
    local fishName     = fishPart and fishPart.Text or nil
    local mutationPart = stats:FindFirstChild("Mutation")
    local labelPart    = mutationPart and mutationPart:FindFirstChild("Label")
    local mutationName = labelPart and labelPart.Text or nil
    local fishRarity   = fishName and self.FishRarityMapv1[fishName] or nil

    local fishMatch, mutationMatch, rarityMatch = false, false, false

    if hasFishFilter and fishName then
        for _, name in ipairs(self.SelectedFishv1) do
            if fishName == name then fishMatch = true break end
        end
    end
    if hasMutationFilter and mutationName then
        for _, name in ipairs(self.SelectedMutationsv1) do
            if mutationName == name then mutationMatch = true break end
        end
    end
    if hasRarityFilter and fishRarity then
        for _, name in ipairs(self.SelectedRaritiesv1) do
            if fishRarity == name then rarityMatch = true break end
        end
    end

    if hasFishFilter and fishMatch then return true end
    if hasMutationFilter and hasRarityFilter then return mutationMatch and rarityMatch end
    if hasMutationFilter then return mutationMatch end
    if hasRarityFilter then return rarityMatch end
    return false
end

function GameData:GetNearestTargetv1()
    if not self.Characterv1 or not self.Characterv1:FindFirstChild("HumanoidRootPart") then return nil end
    local nearest, shortestDistance = nil, math.huge
    local origin = self.Characterv1.HumanoidRootPart.Position

    for _, model in pairs(workspace.Game.Fish.client:GetChildren()) do
        if model:IsA("Model") and self:IsSelectedFishv1(model) then
            local torso = model:FindFirstChild("UpperTorso")
            if torso then
                local distance = (torso.Position - origin).Magnitude
                if distance < shortestDistance then
                    shortestDistance = distance
                    nearest = model
                end
            end
        end
    end
    return nearest
end

function GameData:TweenToPositionv1(position)
    if not self.Characterv1 then return end
    local hrp = self.Characterv1:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    local distance = (hrp.Position - position).Magnitude
    local duration = math.max(0.1, distance / (self.TweenSpeedToFishV1 * 10))

    self.TweenServicev1:Create(
        hrp,
        TweenInfo.new(duration, Enum.EasingStyle.Linear),
        {CFrame = CFrame.new(position)}
    ):Play()
end

function GameData:TweenToSafeDistancev1(model)
    if not self.Characterv1 then return end
    local hrp = self.Characterv1:FindFirstChild("HumanoidRootPart")
    if not hrp then return end
    local torso = model:FindFirstChild("UpperTorso")
    if not torso then return end

    local direction    = (hrp.Position - torso.Position).Unit
    local safePosition = torso.Position + (direction * self.SAFE_DISTANCEv1)

    local distance = (hrp.Position - safePosition).Magnitude
    local duration = math.max(0.1, distance / (self.TweenSpeedToSafeDistV1 * 10))

    self.TweenServicev1:Create(
        hrp,
        TweenInfo.new(duration, Enum.EasingStyle.Linear),
        {CFrame = CFrame.new(safePosition, torso.Position)}
    ):Play()
end

-- ============================================================
--  LOOPS
-- ============================================================

-- Auto Oxygen Safe Zone
task.spawn(function()
    while task.wait(1) do
        if not GameData.AutoSafeZonev1 then continue end
        local oxygenValue = tonumber(GameData.oxygenLabelV1.Text)
        if oxygenValue and oxygenValue <= GameData.OxygenThresholdV1 then
            GameData:TweenToSafeZoneOxygenV1()
        end
    end
end)

-- Auto Sell
task.spawn(function()
    while task.wait(1) do
        if not GameData.AutoSellv1 then continue end
        if GameData.isSellingSellV1 then continue end

        local currentTime = tick()

        if GameData.SellModev1 == "Sell Delay" then
            if currentTime - GameData.lastSellTimev1 >= GameData.SellDelayv1 then
                print("Sell Delay tercapai (" .. GameData.SellDelayv1 .. "s), auto sell dimulai!")
                GameData:AutoSellV1()
            end
        elseif GameData.SellModev1 == "Backpack Full" then
            local maxText  = tonumber(GameData.maxLabelV1.Text:match("%d+"))
            local wghtText = tonumber(GameData.wghtLabelV1.Text:match("%d+"))
            if maxText and wghtText and wghtText >= maxText then
                print("Backpack Full (" .. wghtText .. "/" .. maxText .. "), auto sell dimulai!")
                GameData:AutoSellV1()
            end
        end
    end
end)

-- Loop cek lokasi shoot
task.spawn(function()
    while task.wait(0.5) do
        if not GameData.AutoShootv1 then continue end
        if not GameData.SelectedLocationV1 then continue end
        if GameData.isTweeningOxygenV1 or GameData.isSellingSellV1 then continue end
        if GameData.locationJustChangedV1 then continue end

        if not GameData:IsInZoneV1(GameData.SelectedLocationV1) then
            if not GameData.isTweeningToLocationV1 then
                task.spawn(function()
                    GameData:TweenToSelectedLocationV1()
                end)
            end
        end
    end
end)

-- Auto Shoot Fish
task.spawn(function()
    while task.wait(0.01) do
        if GameData.isTweeningOxygenV1 or GameData.isSellingSellV1 then continue end
        if GameData.isTweeningToLocationV1 then continue end

        if not GameData.AutoShootv1 then
            GameData.CurrentTargetModelv1 = nil
            continue
        end

        if GameData.SelectedLocationV1 then
            if not GameData:IsInZoneV1(GameData.SelectedLocationV1) then continue end
        end

        if not GameData.Characterv1 then continue end
        local hrp = GameData.Characterv1:FindFirstChild("HumanoidRootPart")
        if not hrp then continue end

        local tool = GameData.Characterv1:FindFirstChildOfClass("Tool")
        if not tool then continue end
        local event = tool:FindFirstChild("Event")
        if not event then continue end

        if not GameData.CurrentTargetModelv1 or not GameData.CurrentTargetModelv1.Parent then
            GameData.CurrentTargetModelv1 = GameData:GetNearestTargetv1()
        end
        if not GameData.CurrentTargetModelv1 then continue end

        local torso = GameData.CurrentTargetModelv1:FindFirstChild("UpperTorso")
        if not torso then
            GameData.CurrentTargetModelv1 = nil
            continue
        end

        local distance    = (hrp.Position - torso.Position).Magnitude
        local currentTime = tick()

        if GameData:IsDeadv1(GameData.CurrentTargetModelv1) then
            if distance > GameData.COLLECT_DISTANCEv1 then
                GameData:TweenToPositionv1(torso.Position)
            else
                pcall(function()
                    GameData.CollectEventv1:InvokeServer(GameData.CurrentTargetModelv1.Name)
                end)
                GameData.CurrentTargetModelv1 = nil
                task.wait(0.01)
            end
        else
            GameData:TweenToSafeDistancev1(GameData.CurrentTargetModelv1)

            local origin    = hrp.Position
            local targetPos = torso.Position
            local direction = (targetPos - origin).Unit

            if currentTime - GameData.lastShootv1 >= GameData.shootCooldownv1 then
                event:FireServer("use", targetPos, direction)
                GameData.lastShootv1 = currentTime
            end
            if currentTime - GameData.lastCatchv1 >= GameData.catchCooldownv1 then
                pcall(function()
                    GameData.StartCatchEventv1:InvokeServer(GameData.CurrentTargetModelv1.Name)
                end)
                GameData.lastCatchv1 = currentTime
            end
        end
    end
end)

-- Retry Loop: Oxygen
task.spawn(function()
    while task.wait(2) do
        if not GameData.AutoSafeZonev1 then continue end
        if GameData.isTweeningOxygenV1 then continue end

        local oxygenValue = tonumber(GameData.oxygenLabelV1.Text)
        if not oxygenValue or oxygenValue > GameData.OxygenThresholdV1 then continue end

        local inZone = GameData:IsInSafeZoneV1()
        if inZone then continue end

        warn("[RetryLoop-Oxygen] Oxygen rendah (" .. tostring(oxygenValue) .. ") tapi belum di safe zone, retry...")
        task.spawn(function()
            GameData:TweenToSafeZoneOxygenV1()
        end)
    end
end)

-- Retry Loop: Sell
task.spawn(function()
    while task.wait(3) do
        if not GameData.AutoSellv1 then continue end
        if GameData.isSellingSellV1 or GameData.isTweeningOxygenV1 then continue end

        local shouldSell = false

        if GameData.SellModev1 == "Sell Delay" then
            local overdue = (tick() - GameData.lastSellTimev1) >= (GameData.SellDelayv1 * 2)
            if overdue then shouldSell = true end
        elseif GameData.SellModev1 == "Backpack Full" then
            local maxText  = tonumber(GameData.maxLabelV1.Text:match("%d+"))
            local wghtText = tonumber(GameData.wghtLabelV1.Text:match("%d+"))
            if maxText and wghtText and wghtText >= maxText then shouldSell = true end
        end

        if not shouldSell then continue end

        local inZone = GameData:IsInSellZoneV1()
        if inZone then continue end

        warn("[RetryLoop-Sell] Belum di sell zone, retry...")
        task.spawn(function()
            GameData:AutoSellV1()
        end)
    end
end)

-- ============================================================
--  MONITOR PARAGRAPH LOOP
-- ============================================================
local monitorParagraph = Sec.Main2:AddParagraph({
    Title = "ðŸ“Š Monitor",
    Content = "Menunggu data..."
})

task.spawn(function()
    while task.wait(0.5) do
        local oxygen   = tonumber(GameData.oxygenLabelV1.Text) or 0
        local maxText  = tonumber(GameData.maxLabelV1.Text:match("%d+")) or 0
        local wghtText = tonumber(GameData.wghtLabelV1.Text:match("%d+")) or 0

        local inSafeZone, _ = GameData:IsInSafeZoneV1()
        local inSellZone, _ = GameData:IsInSellZoneV1()
        local inLocation    = GameData.SelectedLocationV1 and GameData:IsInZoneV1(GameData.SelectedLocationV1) or false

        -- âœ… Ambil nama ikan + mutasi dari stats target
        local targetName     = "None"
        local targetMutation = "None"
        if GameData.CurrentTargetModelv1 then
            local head         = GameData.CurrentTargetModelv1:FindFirstChild("Head")
            local stats        = head and head:FindFirstChild("stats")
            local fishPart     = stats and stats:FindFirstChild("Fish")
            local mutationPart = stats and stats:FindFirstChild("Mutation")
            local labelPart    = mutationPart and mutationPart:FindFirstChild("Label")
            targetName     = fishPart and fishPart.Text or GameData.CurrentTargetModelv1.Name
            targetMutation = (labelPart and labelPart.Text ~= "" and labelPart.Text) or "No Mutation"
        end

        local statusShoot    = GameData.AutoShootv1 and "âœ… ON" or "âŒ OFF"
        local statusSell     = GameData.AutoSellv1 and "âœ… ON" or "âŒ OFF"
        local statusSafeZone = GameData.AutoSafeZonev1 and "âœ… ON" or "âŒ OFF"

        local statusTweenLoc  = GameData.isTweeningToLocationV1 and "ðŸ”„ Moving..." or (inLocation and "âœ… In Zone" or "âŒ Out Zone")
        local statusTweenOxy  = GameData.isTweeningOxygenV1 and "ðŸ”„ Moving..." or (inSafeZone and "âœ… In Zone" or "âŒ Out Zone")
        local statusTweenSell = GameData.isSellingSellV1 and "ðŸ”„ Selling..." or (inSellZone and "âœ… In Zone" or "âŒ Out Zone")

        local nextSell = "-"
        if GameData.AutoSellv1 and GameData.SellModev1 == "Sell Delay" then
            local remaining = GameData.SellDelayv1 - (tick() - GameData.lastSellTimev1)
            nextSell = remaining > 0 and string.format("%.1fs", remaining) or "Segera!"
        elseif GameData.SellModev1 == "Backpack Full" then
            nextSell = "Backpack Full Mode"
        end

        local content =
            "Auto Shoot     : " .. statusShoot .. "\n" ..
            "Auto Sell      : " .. statusSell .. "\n" ..
            "Auto SafeZone  : " .. statusSafeZone .. "\n" ..
            "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n" ..
            "Oxygen         : " .. oxygen .. " (Threshold: " .. GameData.OxygenThresholdV1 .. ")\n" ..
            "Weight         : " .. wghtText .. " / " .. maxText .. "\n" ..
            "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n" ..
            "Location         : " .. (GameData.SelectedLocationV1 or "None") .. "\n" ..
            "Location Status  : " .. statusTweenLoc .. "\n" ..
            "Safe Zone        : " .. GameData.SelectedSafeZoneV1 .. "\n" ..
            "Safe Zone Status : " .. statusTweenOxy .. "\n" ..
            "Sell Zone        : " .. GameData.SelectedSellLocationV1 .. "\n" ..
            "Sell Status      : " .. statusTweenSell .. "\n" ..
            "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n" ..
            "Target Fish    : " .. targetName .. "\n" ..
            "Fish Mutation  : " .. targetMutation .. "\n" ..  -- âœ… BARIS BARU
            "Next Sell      : " .. nextSell

        monitorParagraph:SetContent(content)
    end
end)

-- ============================================================
--  GUI
-- ============================================================
Sec.Main2:AddSubSection("SHOOT FISH")

Sec.Main2:AddInput({
    Title = "Tween Speed to Fish",
    Content = "Makin besar = makin cepat",
    Default = tostring(GameData.TweenSpeedToFishV1),
    Callback = function(value)
        local number = tonumber(value)
        if number and number >= 1 then
            GameData.TweenSpeedToFishV1     = number
            GameData.TweenSpeedToSafeDistV1 = number
        end
    end
})

Sec.Main2:AddInput({
    Title = "Safe Distance",
    Content = "Set Safe Distance to Fish",
    Default = tostring(GameData.SAFE_DISTANCEv1),
    Callback = function(value)
        local num = tonumber(value)
        if num and num > 0 then GameData.SAFE_DISTANCEv1 = num end
    end
})

Sec.Main2:AddInput({
    Title = "Tween Speed to Location",
    Content = "Makin besar = makin cepat",
    Default = tostring(GameData.TweenSpeedToLocationV1),
    Callback = function(value)
        local number = tonumber(value)
        if number and number >= 1 then
            GameData.TweenSpeedToLocationV1 = number
        end
    end
})

Sec.Main2:AddDropdown({
    Title = "Select Location",
    Content = "Select the target zone before shooting fish",
    Options = GameData.locationNamesV1,
    Multi = false,
    Default = GameData.locationNamesV1[1],
    Callback = function(value)
        if GameData.SelectedLocationV1 ~= value then
            GameData:CancelLocationTweenV1()
            GameData.SelectedLocationV1 = value
            GameData.locationJustChangedV1 = true
            task.delay(3, function()
                GameData.locationJustChangedV1 = false
            end)
            print("Lokasi dipilih:", value)
        end
    end
})

Sec.Main2:AddDropdown({
    Title = "Fish List",
    Content = "Select Fish (Multi)",
    Options = GameData.Fishv1,
    Multi = true, Default = {},
    Callback = function(selectedTable)
        GameData.SelectedFishv1 = selectedTable
    end
})

Sec.Main2:AddDropdown({
    Title = "Mutation List",
    Content = "Select Mutation (Multi)",
    Options = GameData.MutationNamesv1,
    Multi = true, Default = {},
    Callback = function(selectedTable)
        GameData.SelectedMutationsv1 = selectedTable
    end
})

Sec.Main2:AddDropdown({
    Title = "Rarity List",
    Content = "Select Rarity (Multi)",
    Options = GameData.RarityNamesv1,
    Multi = true, Default = {},
    Callback = function(selectedTable)
        GameData.SelectedRaritiesv1 = selectedTable
    end
})

Sec.Main2:AddToggle({
    Title = "Auto Shoot Fish",
    Default = false,
    Callback = function(value)
        GameData.AutoShootv1 = value
        if not value then
            GameData:CancelLocationTweenV1()
        else
            GameData.locationJustChangedV1 = true
            task.delay(3, function()
                GameData.locationJustChangedV1 = false
            end)
        end
    end
})

Sec.Main2:AddSubSection("SAFE ZONE SETTINGS")

Sec.Main2:AddInput({
    Title = "Tween Speed to Safe Zone",
    Content = "Makin besar = makin cepat",
    Default = tostring(GameData.TweenSpeedToSafeZoneV1),
    Callback = function(value)
        local number = tonumber(value)
        if number and number >= 1 then
            GameData.TweenSpeedToSafeZoneV1 = number
        end
    end
})

Sec.Main2:AddDropdown({
    Title = "Select Safe Zone (Oxygen)",
    Content = "Zona aman untuk auto oxygen",
    Options = GameData.safeZoneNamesV1,
    Multi = false,
    Default = GameData.SelectedSafeZoneV1,
    Callback = function(value)
        GameData.SelectedSafeZoneV1 = value
        print("Safe Zone (oxygen) dipilih:", value)
    end
})

Sec.Main2:AddInput({
    Title = "Oxygen Threshold",
    Content = "Enter Safe Oxygen...",
    Default = tostring(GameData.OxygenThresholdV1),
    Callback = function(value)
        local num = tonumber(value)
        if num then GameData.OxygenThresholdV1 = num end
    end
})

Sec.Main2:AddToggle({
    Title = "Auto Safe Zone",
    Default = false,
    Callback = function(value)
        GameData.AutoSafeZonev1 = value
        if not value then GameData:CancelSafeZoneTweenV1() end
    end
})

Sec.Main2:AddSubSection("CAST MODE SETTINGS")

-- // Cast Mode

GameData.Playerv2 = GameData.Servicesv2.Playersv2.LocalPlayer

GameData.UIv2.Greenv2 = GameData.Playerv2.PlayerGui.Main
    .CatchingBar.Frame.Bar.Catch.Green

GameData.UIv2.Gradientv2 = GameData.Playerv2.PlayerGui.Main
    .CatchingBar.Frame.Bar.Catch.Gradient

GameData.Remotesv2.CancelMinigamev2 = GameData.Servicesv2.ReplicatedStoragev2
    :WaitForChild("common")
    :WaitForChild("packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("MinigameService")
    :WaitForChild("RF")
    :WaitForChild("CancelMinigame")

Sec.Main2:AddDropdown({
    Title = "Select Cast Mode",
    Content = "Choose fishing cast behavior",
    Options = {"Normal", "Blatant"},
    Multi = false,
    Default = "Normal",
    Callback = function(value)
        GameData.CastModev2 = value
    end
})

Sec.Main2:AddToggle({
    Title = "Auto Cast",
    Default = false,
    Callback = function(value)
        GameData.AutoCastv2 = value

        if value then
            if not GameData.LoopThreadv2 then
                GameData.LoopThreadv2 = task.spawn(function()
                    while GameData.AutoCastv2 do

                        if GameData.UIv2.Greenv2 and GameData.UIv2.Gradientv2 then
                            GameData.UIv2.Greenv2.Size = GameData.UIv2.Gradientv2.Size
                        end

                        if GameData.CastModev2 == "Blatant" then
                            GameData.Remotesv2.CancelMinigamev2:InvokeServer()
                        end

                        task.wait(0.001)
                    end

                    GameData.LoopThreadv2 = nil
                end)
            end
        else
            GameData.AutoCastv2 = false
        end
    end
})

Sec.Sell = Tabs.Main:AddSection({
    Title = "Sell Fiture",
    Open = false
})

Sec.Sell:AddDropdown({
    Title = "Select Mode Sell",
    Content = "Select Sell Trigger Mode",
    Options = {
        "Sell Delay",
        "Backpack Full",
    },
    Multi = false,
    Default = "Sell Delay",
    Callback = function(value)
        GameData.SellModev1 = value
    end
})

Sec.Sell:AddInput({
    Title = "Sell Delay (Seconds)",
    Content = "Automatic sell interval (only for Sell Delay mode)",
    Default = tostring(GameData.SellDelayv1),
    Callback = function(value)
        local num = tonumber(value)
        if num and num > 0 then
            GameData.SellDelayv1 = num
        end
    end
})

Sec.Sell:AddInput({
    Title = "Tween Speed Sell",
    Content = "Tween Speed To Sell",
    Default = tostring(GameData.TweenSpeedToSellZoneV1),
    Callback = function(value)
        local number = tonumber(value)
        if number and number >= 1 then
            GameData.TweenSpeedToSellZoneV1 = number
        end
    end
})

Sec.Sell:AddToggle({
    Title = "Auto Sell Fish",
    Default = false,
    Callback = function(value)
        GameData.AutoSellv1 = value
        if not value then
            GameData:CancelSellLocationTweenV1()
        end
    end
})

Sec.Main4 = Tabs.Main:AddSection({
    Title = "Support Fiture",
    Open = false
})

-- // Equip Guns

GameData.Remotesv4.BackpackRFv4 = GameData.Servicesv4.ReplicatedStoragev4
    :WaitForChild("common")
    :WaitForChild("packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("BackpackService")
    :WaitForChild("RF")

-- Fungsi untuk mulai auto equip
function GameData:StartAutoEquipv4()
    task.spawn(function()
        while self.AutoEquipv4 do
            local debris = self.Servicesv4.Workspacev4:FindFirstChild("debris")
            local playerFolder = debris and debris:FindFirstChild(self.LocalPlayerv4.Name)
            local tool = playerFolder and playerFolder:FindFirstChild("Tool")

            -- Kalau Tool gak ada, baru equip
            if not (tool and tool:IsA("Tool")) then
                local args = {"1"}
                self.Remotesv4.BackpackRFv4
                    :WaitForChild("Equip")
                    :InvokeServer(unpack(args))
            end

            task.wait(1)
        end
    end)
end

-- Fungsi untuk stop auto equip
function GameData:StopAutoEquipv4()
    self.AutoEquipv4 = false
    local args = {"1"}
    self.Remotesv4.BackpackRFv4
        :WaitForChild("Unequip")
        :InvokeServer(unpack(args))
end

-- Toggle di GUI
Sec.Main4:AddToggle({
    Title = "Auto Equip Gun",
	Badge = "Fixed",
    Default = false,
    Callback = function(value)
        GameData.AutoEquipv4 = value

        if value then
            Chloex:MakeNotify({
                Title = "Auto Equip",
                Description = "Enabled",
                Content = "Gun has been equip!",
                Color = Color3.fromRGB(0,255,0),
                Time = 0.5,
                Delay = 3
            })

            GameData:StartAutoEquipv4()

        else
            Chloex:MakeNotify({
                Title = "Auto Equip",
                Description = "Disabled",
                Content = "Gun has been unequipped!",
                Color = Color3.fromRGB(255,0,0),
                Time = 0.5,
                Delay = 3
            })

            GameData:StopAutoEquipv4()
        end
    end
})

-- // Equip Items Guns

GameData.GunsFolderv7 = GameData.Servicesv7.ReplicatedStoragev7
    :WaitForChild("common")
    :WaitForChild("assets")
    :WaitForChild("guns")

for _, gun in pairs(GameData.GunsFolderv7:GetChildren()) do
    table.insert(GameData.GunOptionsv7, gun.Name)
end

GameData.SelectedGunv7 = GameData.GunOptionsv7[1]

GameData.Remotesv7.EquipItemv7 = GameData.Servicesv7.ReplicatedStoragev7
    :WaitForChild("common")
    :WaitForChild("packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("InventoryService")
    :WaitForChild("RF")
    :WaitForChild("EquipItem")

Sec.Main4:AddDropdown({
    Title = "Select Guns",
    Content = "Choose your gun",
    Options = GameData.GunOptionsv7,
    Multi = false,
    Default = GameData.GunOptionsv7[1],
    Callback = function(value)
        GameData.SelectedGunv7 = value
        print("Selected Gun:", value)
    end
})

Sec.Main4:AddButton({
    Title = "Equip Items Gun",
    Version = "V2",
    Icon = "rbxassetid://79715859717613",
    Callback = function()

        if not GameData.SelectedGunv7 then
            warn("No gun selected!")
            return
        end

        local args = {
            "guns",
            GameData.SelectedGunv7
        }

        GameData.Remotesv7.EquipItemv7:InvokeServer(unpack(args))

        print("Equipped Gun:", GameData.SelectedGunv7)
    end
})

-- // Equip Items Tubes

GameData.TubesFolderv8 = GameData.Servicesv8.ReplicatedStoragev8
    :WaitForChild("common")
    :WaitForChild("assets")
    :WaitForChild("tubes")

for _, tube in pairs(GameData.TubesFolderv8:GetChildren()) do
    table.insert(GameData.TubeOptionsv8, tube.Name)
end

GameData.SelectedTubev8 = GameData.TubeOptionsv8[1]

GameData.Remotesv8.EquipItemv8 = GameData.Servicesv8.ReplicatedStoragev8
    :WaitForChild("common")
    :WaitForChild("packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("InventoryService")
    :WaitForChild("RF")
    :WaitForChild("EquipItem")

Sec.Main4:AddDropdown({
    Title = "Select Tubes",
    Content = "Choose your tube",
    Options = GameData.TubeOptionsv8,
    Multi = false,
    Default = GameData.TubeOptionsv8[1],
    Callback = function(v)
        GameData.SelectedTubev8 = v
        print("Selected Tube:", v)
    end
})

Sec.Main4:AddButton({
    Title = "Equip Items Tubes",
    Version = "V2",
    Icon = "rbxassetid://79715859717613",
    Callback = function()

        if not GameData.SelectedTubev8 then
            warn("No tube selected!")
            return
        end

        local args = {
            "tubes",
            GameData.SelectedTubev8
        }

        GameData.Remotesv8.EquipItemv8:InvokeServer(unpack(args))

        print("Equipped:", GameData.SelectedTubev8)
    end
})

Sec.Main5 = Tabs.Main:AddSection({
    Title = "Treasure",
    Open = false
})

GameData.Playerv14 = GameData.Servicesv14.Playersv14.LocalPlayer
GameData.Characterv14 = GameData.Playerv14.Character or GameData.Playerv14.CharacterAdded:Wait()
GameData.HumanoidRootPartv14 = GameData.Characterv14:WaitForChild("HumanoidRootPart")

for _, tierv14 in pairs(workspace.Game.Chests:GetChildren()) do
    table.insert(GameData.Chestv14.TierOptionsv14, tierv14.Name)
end

local function InvokeChestv14(tierv14, numberv14)
    GameData.Servicesv14.ReplicatedStoragev14
        :WaitForChild("common")
        :WaitForChild("packages")
        :WaitForChild("Knit")
        :WaitForChild("Services")
        :WaitForChild("ChestService")
        :WaitForChild("RF")
        :WaitForChild("UnlockChest")
        :InvokeServer(tierv14, tostring(numberv14))
end

local function TweenToChestv14(chestv14)
    local targetCFramev14 = chestv14.CFrame * CFrame.new(0, 0, -5)

    local tweenv14 = GameData.Servicesv14.TweenServicev14:Create(
        GameData.HumanoidRootPartv14,
        GameData.Chestv14.TweenInfov14,
        { CFrame = targetCFramev14 }
    )

    tweenv14:Play()
    tweenv14.Completed:Wait()
end

local function StartLoopv14()
    GameData.Chestv14.Runningv14 = true

    while GameData.Chestv14.Runningv14 do
        for _, tierNamev14 in pairs(GameData.Chestv14.SelectedTiersv14) do
            if not GameData.Chestv14.Runningv14 then break end

            local tierFolderv14 = workspace.Game.Chests:FindFirstChild(tierNamev14)
            if not tierFolderv14 then continue end

            for _, chestv14 in pairs(tierFolderv14:GetChildren()) do
                if not GameData.Chestv14.Runningv14 then break end

                TweenToChestv14(chestv14)
                if not GameData.Chestv14.Runningv14 then break end

                task.wait(0.3)
                InvokeChestv14(tierNamev14, chestv14.Name)
                task.wait(1)
            end
        end

        task.wait(0.5)
    end
end

Sec.Main5:AddDropdown({
    Title = "Select Chest Tier",
    Content = "Select the tier you want to farm",
    Options = GameData.Chestv14.TierOptionsv14,
    Multi = true,
    Default = {},
    Callback = function(selectedTablev14)
        GameData.Chestv14.SelectedTiersv14 = selectedTablev14
    end
})

Sec.Main5:AddToggle({
    Title = "Auto Treasure Hunt",
    Default = false,
    Callback = function(valuev14)
        if valuev14 then
            if #GameData.Chestv14.SelectedTiersv14 == 0 then
                warn("Pilih tier dulu di dropdown!")
                return
            end

            task.spawn(StartLoopv14)
        else
            GameData.Chestv14.Runningv14 = false
        end
    end
})

Sec.Bestiary = Tabs.Main:AddSection({
    Title = "Bestiary",
    Open = false
})

GameData.FishFolderv13 = GameData.Servicesv13.ReplicatedStoragev13
    :WaitForChild("common")
    :WaitForChild("assets")
    :WaitForChild("fish")

GameData.Remotesv13.ClaimRewardv13 = GameData.Servicesv13.ReplicatedStoragev13
    :WaitForChild("common")
    :WaitForChild("packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("BestiaryService")
    :WaitForChild("RF")
    :WaitForChild("ClaimReward")

Sec.Bestiary:AddToggle({
    Title = "Auto Claim Bestiary",
    Default = false,
    Callback = function(v13)

        GameData.AutoClaimBestiaryv13 = v13
        
        if v13 then
            VelarisUI:MakeNotify({
                Title = "Auto Claim Bestiary",
                Description = "Status",
                Content = "Auto Claim Bestiary Enabled!",
                Color = Color3.fromRGB(0, 255, 0),
                Delay = 2
            })

            task.spawn(function()
                while GameData.AutoClaimBestiaryv13 do

                    for _, fishv13 in ipairs(GameData.FishFolderv13:GetChildren()) do
                        if not GameData.AutoClaimBestiaryv13 then break end
                        
                        pcall(function()
                            GameData.Remotesv13.ClaimRewardv13:InvokeServer(fishv13.Name)
                        end)
                        
                        task.wait(0.2)
                    end
                    
                    task.wait(1)
                end
            end)

        else
            VelarisUI:MakeNotify({
                Title = "Auto Claim Bestiary",
                Description = "Status",
                Content = "Auto Claim Bestiary Disabled!",
                Color = Color3.fromRGB(255, 0, 0),
                Delay = 2
            })
        end
    end
})

Sec.Favorite = Tabs.Backpack:AddSection({
    Title = "Favorite [Beta]",
    Open = true
})

GameData.Knitv10 = require(GameData.ReplicatedStoragev10.common.packages.Knit)
GameData.FavoriteRFv10 = GameData.ReplicatedStoragev10:WaitForChild("common"):WaitForChild("packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("BackpackService"):WaitForChild("RF"):WaitForChild("Favorite")

GameData.fishFolderv10 = GameData.ReplicatedStoragev10.common.presets.items.fish
for _, folder in ipairs(GameData.fishFolderv10:GetChildren()) do
    if folder:IsA("Folder") then
        for _, module in ipairs(folder:GetChildren()) do
            if module:IsA("ModuleScript") then
                local success, data = pcall(require, module)
                if success and type(data) == "table" then
                    GameData.rarityMapv10[module.Name] = data.rarity or "Unknown"
                end
            end
        end
    end
end

GameData.mutationsFolderv10 = GameData.ReplicatedStoragev10.common.presets.fish.mutations
for _, mutModule in ipairs(GameData.mutationsFolderv10:GetChildren()) do
    table.insert(GameData.mutationListv10, mutModule.Name)
end
table.sort(GameData.mutationListv10)

GameData.fishAssetsFolderv10 = GameData.ReplicatedStoragev10.common.assets.fish
for _, fishModel in ipairs(GameData.fishAssetsFolderv10:GetChildren()) do
    table.insert(GameData.fishListv10, fishModel.Name)
end
table.sort(GameData.fishListv10)

Sec.Favorite:AddDropdown({
    Title = "Filter Rarity",
    Content = "Cannot be combined with Fish filter",
    Options = {"None", "Common", "Uncommon", "Rare", "Epic", "Legendary", "Mythical"},
    Multi = false,
    Default = "None",
    Callback = function(value)
        if value ~= "None" and GameData.selectedFishv10 ~= "None" then
            Chloex:MakeNotify({
                Title = "Filter Warning",
                Description = "Filter System",
                Content = "Cannot combine Rarity + Fish filter! Resetting Fish to None.",
                Color = Color3.fromRGB(255, 165, 0),
                Time = 0.5,
                Delay = 3
            })
            GameData.selectedFishv10 = "None"
        end
        GameData.selectedRarityv10 = value
        Chloex:MakeNotify({
            Title = "Rarity Filter",
            Description = "Filter System",
            Content = "Rarity filter set to: " .. GameData.selectedRarityv10,
            Color = Color3.fromRGB(0, 170, 255),
            Time = 0.5,
            Delay = 3
        })
    end
})

Sec.Favorite:AddDropdown({
    Title = "Filter Fish",
    Content = "Cannot be combined with Rarity filter",
    Options = GameData.fishListv10,
    Multi = false,
    Default = "None",
    Callback = function(value)
        if value ~= "None" and GameData.selectedRarityv10 ~= "None" then
            Chloex:MakeNotify({
                Title = "Filter Warning",
                Description = "Filter System",
                Content = "Cannot combine Fish + Rarity filter! Resetting Rarity to None.",
                Color = Color3.fromRGB(255, 165, 0),
                Time = 0.5,
                Delay = 3
            })
            GameData.selectedRarityv10 = "None"
        end
        GameData.selectedFishv10 = value
        Chloex:MakeNotify({
            Title = "Fish Filter",
            Description = "Filter System",
            Content = "Fish filter set to: " .. GameData.selectedFishv10,
            Color = Color3.fromRGB(0, 170, 255),
            Time = 0.5,
            Delay = 3
        })
    end
})

Sec.Favorite:AddDropdown({
    Title = "Filter Mutation",
    Content = "Can be combined with Rarity or Fish filter",
    Options = GameData.mutationListv10,
    Multi = false,
    Default = "None",
    Callback = function(value)
        GameData.selectedMutationv10 = value
        Chloex:MakeNotify({
            Title = "Mutation Filter",
            Description = "Filter System",
            Content = "Mutation filter set to: " .. GameData.selectedMutationv10,
            Color = Color3.fromRGB(0, 170, 255),
            Time = 0.5,
            Delay = 3
        })
    end
})

local function matchesFilter(item)
    local fishName = item.name
    if item.class == "fish_loot" then
        fishName = string.split(item.name, "_")[1]
    end

    local rarity = GameData.rarityMapv10[fishName] or GameData.rarityMapv10[item.name] or "Unknown"
    local mutations = item.mutations or {}

    local hasMutation = false
    if GameData.selectedMutationv10 ~= "None" then
        for _, mut in ipairs(mutations) do
            if mut == GameData.selectedMutationv10 then
                hasMutation = true
                break
            end
        end
    end

    if GameData.selectedFishv10 ~= "None" and GameData.selectedMutationv10 ~= "None" then
        return fishName == GameData.selectedFishv10 and hasMutation
    elseif GameData.selectedFishv10 ~= "None" then
        return fishName == GameData.selectedFishv10
    elseif GameData.selectedRarityv10 ~= "None" and GameData.selectedMutationv10 ~= "None" then
        return rarity == GameData.selectedRarityv10 and hasMutation
    elseif GameData.selectedRarityv10 ~= "None" then
        return rarity == GameData.selectedRarityv10
    elseif GameData.selectedMutationv10 ~= "None" then
        return hasMutation
    end

    return false
end

Sec.Favorite:AddToggle({
    Title = "Auto Favorite",
    Default = false,
    Callback = function(value)
        GameData.autoFavRunningv10 = value

        if value then
            if GameData.selectedRarityv10 == "None" and GameData.selectedMutationv10 == "None" and GameData.selectedFishv10 == "None" then
                Chloex:MakeNotify({
                    Title = "Auto Favorite",
                    Description = "Filter System",
                    Content = "Please select at least one filter first!",
                    Color = Color3.fromRGB(255, 0, 0),
                    Time = 0.5,
                    Delay = 3
                })
                GameData.autoFavRunningv10 = false
                return
            end

            Chloex:MakeNotify({
                Title = "Auto Favorite",
                Description = "Status",
                Content = "Auto Favorite is now ON.",
                Color = Color3.fromRGB(0, 255, 0),
                Time = 0.5,
                Delay = 3
            })

            task.spawn(function()
                while GameData.autoFavRunningv10 do
                    local replica = GameData.Knitv10.GetController("DataController"):GetReplica()
                    local inventory = replica.Data.inventory or {}

                    for id, item in pairs(inventory) do
                        if not GameData.autoFavRunningv10 then break end

                        if (item.class == "fish" or item.class == "fish_loot") and not item.favorited then
                            if matchesFilter(item) then
                                local success, err = pcall(function()
                                    GameData.FavoriteRFv10:InvokeServer(id)
                                end)
                                if success then
                                    local mutations = item.mutations or {}
                                    Chloex:MakeNotify({
                                        Title = "Favorited",
                                        Description = item.name,
                                        Content = "Mutation: " .. (table.concat(mutations, ", ") ~= "" and table.concat(mutations, ", ") or "None"),
                                        Color = Color3.fromRGB(0, 255, 0),
                                        Time = 0.5,
                                        Delay = 3
                                    })
                                else
                                    Chloex:MakeNotify({
                                        Title = "Auto Favorite",
                                        Description = "Error",
                                        Content = "Failed to favorite: " .. tostring(err),
                                        Color = Color3.fromRGB(255, 0, 0),
                                        Time = 0.5,
                                        Delay = 3
                                    })
                                end
                                task.wait(0.3)
                            end
                        end
                    end

                    task.wait(1)
                end

                Chloex:MakeNotify({
                    Title = "Auto Favorite",
                    Description = "Status",
                    Content = "Auto Favorite has stopped.",
                    Color = Color3.fromRGB(255, 0, 0),
                    Time = 0.5,
                    Delay = 3
                })
            end)
        else
            Chloex:MakeNotify({
                Title = "Auto Favorite",
                Description = "Status",
                Content = "Auto Favorite is now OFF.",
                Color = Color3.fromRGB(255, 0, 0),
                Time = 0.5,
                Delay = 3
            })
        end
    end
})

Sec.Favorite:AddToggle({
    Title = "Auto Unfavorite",
    Default = false,
    Callback = function(value)
        GameData.autoUnfavRunningv10 = value

        if value then
            if GameData.selectedRarityv10 == "None" and GameData.selectedMutationv10 == "None" and GameData.selectedFishv10 == "None" then
                Chloex:MakeNotify({
                    Title = "Auto Unfavorite",
                    Description = "Filter System",
                    Content = "Please select at least one filter first!",
                    Color = Color3.fromRGB(255, 0, 0),
                    Time = 0.5,
                    Delay = 3
                })
                GameData.autoUnfavRunningv10 = false
                return
            end

            Chloex:MakeNotify({
                Title = "Auto Unfavorite",
                Description = "Status",
                Content = "Auto Unfavorite is now ON.",
                Color = Color3.fromRGB(0, 255, 0),
                Time = 0.5,
                Delay = 3
            })

            task.spawn(function()
                while GameData.autoUnfavRunningv10 do
                    local replica = GameData.Knitv10.GetController("DataController"):GetReplica()
                    local inventory = replica.Data.inventory or {}

                    for id, item in pairs(inventory) do
                        if not GameData.autoUnfavRunningv10 then break end

                        if (item.class == "fish" or item.class == "fish_loot") and item.favorited then
                            if matchesFilter(item) then
                                local success, err = pcall(function()
                                    GameData.FavoriteRFv10:InvokeServer(id) -- invoke again = unfavorite
                                end)
                                if success then
                                    local mutations = item.mutations or {}
                                    Chloex:MakeNotify({
                                        Title = "Unfavorited",
                                        Description = item.name,
                                        Content = "Mutation: " .. (table.concat(mutations, ", ") ~= "" and table.concat(mutations, ", ") or "None"),
                                        Color = Color3.fromRGB(255, 100, 0),
                                        Time = 0.5,
                                        Delay = 3
                                    })
                                else
                                    Chloex:MakeNotify({
                                        Title = "Auto Unfavorite",
                                        Description = "Error",
                                        Content = "Failed to unfavorite: " .. tostring(err),
                                        Color = Color3.fromRGB(255, 0, 0),
                                        Time = 0.5,
                                        Delay = 3
                                    })
                                end
                                task.wait(0.3)
                            end
                        end
                    end

                    task.wait(1)
                end

                Chloex:MakeNotify({
                    Title = "Auto Unfavorite",
                    Description = "Status",
                    Content = "Auto Unfavorite has stopped.",
                    Color = Color3.fromRGB(255, 0, 0),
                    Time = 0.5,
                    Delay = 3
                })
            end)
        else
            Chloex:MakeNotify({
                Title = "Auto Unfavorite",
                Description = "Status",
                Content = "Auto Unfavorite is now OFF.",
                Color = Color3.fromRGB(255, 0, 0),
                Time = 0.5,
                Delay = 3
            })
        end
    end
})

Sec.Tp1 = Tabs.Tp:AddSection({
    Title = "Locations",
    Open = true
})

GameData.Playerv9 = GameData.Servicesv9.Playersv9.LocalPlayer

for name, _ in pairs(GameData.Locationsv9) do
    table.insert(GameData.LocationOptionsv9, name)
end

GameData.SelectedLocationv9 = GameData.LocationOptionsv9[1]

Sec.Tp1:AddDropdown({
    Title = "Select Locations",
    Options = GameData.LocationOptionsv9,
    Multi = false,
    Default = {GameData.LocationOptionsv9[1]},
    Callback = function(tbl)
        if type(tbl) == "table" then
            GameData.SelectedLocationv9 = tbl[1]
        else
            GameData.SelectedLocationv9 = tbl
        end
    end
})

Sec.Tp1:AddButton({
    Title = "Tween To Locations",
    Version = "V2",
    Icon = "rbxassetid://79715859717613",
    Callback = function()
        if not GameData.SelectedLocationv9 then return end

        local targetCFrame = GameData.Locationsv9[GameData.SelectedLocationv9]
        if not targetCFrame then return end

        local char = GameData.Playerv9.Character or GameData.Playerv9.CharacterAdded:Wait()
        local hrp = char:WaitForChild("HumanoidRootPart")
        local hum = char:WaitForChild("Humanoid")

        hum.PlatformStand = true

        local attachment = Instance.new("Attachment")
        attachment.Parent = hrp

        local lv = Instance.new("LinearVelocity")
        lv.Attachment0 = attachment
        lv.MaxForce = math.huge
        lv.VectorVelocity = Vector3.zero
        lv.Parent = hrp

        local distance = (hrp.Position - targetCFrame.Position).Magnitude
        local speed = 50
        local duration = math.clamp(distance / speed, 0.1, 30)

        local tween = GameData.Servicesv9.TweenServicev9:Create(
            hrp,
            TweenInfo.new(duration, Enum.EasingStyle.Linear),
            {CFrame = targetCFrame}
        )

        tween:Play()

        tween.Completed:Connect(function()
            lv:Destroy()
            attachment:Destroy()
            hum.PlatformStand = false
            VelarisUI:MakeNotify({
                Title = "Teleport",
                Description = "Success",
                Content = "Arrived at " .. GameData.SelectedLocationv9,
                Color = Color3.fromRGB(0, 255, 0),
                Time = 0.5,
                Delay = 3
            })
        end)
    end
})

Sec.Shop1 = Tabs.Shop:AddSection({
    Title = "Item Shop",
    Open = true
})

Sec.Shop1:AddSubSection("GUNS SHOP")

GameData.GunsFolderv11 = GameData.Servicesv11.ReplicatedStoragev11
    :WaitForChild("common")
    :WaitForChild("assets")
    :WaitForChild("guns")
for _, gunv11 in pairs(GameData.GunsFolderv11:GetChildren()) do
    table.insert(GameData.GunOptionsv11, gunv11.Name)
end
GameData.SelectedGunv11 = GameData.GunOptionsv11[1]
GameData.Remotesv11.BuyItemv11 = GameData.Servicesv11.ReplicatedStoragev11
    :WaitForChild("common")
    :WaitForChild("packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("PurchaseService")
    :WaitForChild("RF")
    :WaitForChild("BuyItem")
Sec.Shop1:AddDropdown({
    Title = "Select Gun to Buy",
    Content = "Choose gun to purchase",
    Options = GameData.GunOptionsv11,
    Multi = false,
    Default = GameData.GunOptionsv11[1],
    Callback = function(v11)
        GameData.SelectedGunv11 = v11
        VelarisUI:MakeNotify({
            Title = "Gun Selected",
            Description = "Selection",
            Content = "Selected Gun to Buy: " .. tostring(v11),
            Color = Color3.fromRGB(0, 170, 255),
            Time = 0.5,
            Delay = 3
        })
    end
})
Sec.Shop1:AddButton({
    Title = "Buy Gun",
    Version = "V2",
    Icon = "rbxassetid://79715859717613",
    Callback = function()
        if not GameData.SelectedGunv11 then
            VelarisUI:MakeNotify({
                Title = "Error",
                Description = "Purchase Failed",
                Content = "No gun selected!",
                Color = Color3.fromRGB(255, 0, 0),
                Time = 0.5,
                Delay = 3
            })
            return
        end
        local argsv11 = {
            GameData.SelectedGunv11,
            1,
            "guns"
        }
        GameData.Remotesv11.BuyItemv11:InvokeServer(unpack(argsv11))
        VelarisUI:MakeNotify({
            Title = "Purchase Successful",
            Description = "Shop",
            Content = "Purchased Gun: " .. tostring(GameData.SelectedGunv11),
            Color = Color3.fromRGB(0, 255, 0),
            Time = 0.5,
            Delay = 3
        })
    end
})

Sec.Shop1:AddSubSection("TUBES SHOP")

GameData.TubesFolderv12 = GameData.Servicesv12.ReplicatedStoragev12
    :WaitForChild("common")
    :WaitForChild("assets")
    :WaitForChild("tubes")
for _, tubev12 in pairs(GameData.TubesFolderv12:GetChildren()) do
    table.insert(GameData.TubeOptionsv12, tubev12.Name)
end
GameData.SelectedTubev12 = GameData.TubeOptionsv12[1]
GameData.Remotesv12.BuyItemv12 = GameData.Servicesv12.ReplicatedStoragev12
    :WaitForChild("common")
    :WaitForChild("packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("PurchaseService")
    :WaitForChild("RF")
    :WaitForChild("BuyItem")
Sec.Shop1:AddDropdown({
    Title = "Select Tube to Buy",
    Content = "Choose tube to purchase",
    Options = GameData.TubeOptionsv12,
    Multi = false,
    Default = GameData.TubeOptionsv12[1],
    Callback = function(v12)
        GameData.SelectedTubev12 = v12
        VelarisUI:MakeNotify({
            Title = "Tube Selected",
            Description = "Selection",
            Content = "Selected Tube to Buy: " .. tostring(v12),
            Color = Color3.fromRGB(0, 170, 255),
            Time = 0.5,
            Delay = 3
        })
    end
})
Sec.Shop1:AddButton({
    Title = "Buy Tube",
    Version = "V2",
    Icon = "rbxassetid://79715859717613",
    Callback = function()
        if not GameData.SelectedTubev12 then
            VelarisUI:MakeNotify({
                Title = "Error",
                Description = "Purchase Failed",
                Content = "No tube selected!",
                Color = Color3.fromRGB(255, 0, 0),
                Time = 0.5,
                Delay = 3
            })
            return
        end
        local argsv12 = {
            GameData.SelectedTubev12,
            1,
            "tubes"
        }
        GameData.Remotesv12.BuyItemv12:InvokeServer(unpack(argsv12))
        VelarisUI:MakeNotify({
            Title = "Purchase Successful",
            Description = "Shop",
            Content = "Purchased Tube: " .. tostring(GameData.SelectedTubev12),
            Color = Color3.fromRGB(0, 255, 0),
            Time = 0.5,
            Delay = 3
        })
    end
})

