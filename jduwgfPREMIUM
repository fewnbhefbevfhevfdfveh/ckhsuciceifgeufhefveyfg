local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()
loadstring(game:HttpGet("https://raw.githubusercontent.com/fewnbhefbevfhevfdfveh/ckhsuciceifgeufhefveyfg/refs/heads/main/fhffgufGUIPRIVat"))()

--[[
 _   _ _______ __   __    _    
| \ | |  ____|  \ /  |  / \   
|  \| | |__     \ V /  / _ \  
| . ` |  __|     > <  / ___ \ 
| |\  | |____   / . \/ /   \ \
|_| \_|______| /_/ \_/_/     \_\
]]

-- Tunggu player siap
repeat task.wait() until game.Players.LocalPlayer and game.Players.LocalPlayer.Character
if not game:IsLoaded() then
    game.Loaded:Wait()
end

print("Supported loader system running...")

local placeId = game.PlaceId

-- Table games dengan multiple PlaceId
local games = {
    ["FishIt"] = {
        placeIds = {121864768012064}, -- bisa tambah PlaceId tambahan
        url = 'https://raw.githubusercontent.com/fewnbhefbevfhevfdfveh/ckhsuciceifgeufhefveyfg/refs/heads/main/sjfeufeufegfefy'
    },
    ["Prospecting"] = {
        placeIds = {129827112113663},
        url = 'https://raw.githubusercontent.com/fewnbhefbevfhevfdfveh/ckhsuciceifgeufhefveyfg/refs/heads/main/ewfheufefgeufg'
    },
    ["PlantVsBrainrot"] = {
        placeIds = {127742093697776},
        url = 'https://raw.githubusercontent.com/fewnbhefbevfhevfdfveh/ckhsuciceifgeufhefveyfg/refs/heads/main/wfnwefjwewidjeuf'
    },
    ["99 Nights"] = {
        placeIds = {126509999114328},
        url = 'https://raw.githubusercontent.com/fewnbhefbevfhevfdfveh/ckhsuciceifgeufhefveyfg/refs/heads/main/fwfewfefef99%20Nig'
    },
    ["Fisch"] = {
        placeIds = {16732694052, 131716211654599},
        url = 'https://raw.githubusercontent.com/fewnbhefbevfhevfdfveh/ckhsuciceifgeufhefveyfg/refs/heads/main/wjdgydfwydwyFISCH'
    }
}

-- Cari skrip sesuai PlaceId
local scriptUrl
for _, gameInfo in pairs(games) do
    if table.find(gameInfo.placeIds, placeId) then
        scriptUrl = gameInfo.url
        break
    end
end

-- Fungsi notifikasi WindUI dengan fallback
local function NotifyWindUI(title, content, duration)
    local success, WindUI = pcall(function()
        return getgenv().WindUI or WindUI
    end)

    if success and WindUI and WindUI.Notify then
        WindUI:Notify({
            Title = title or "Notification",
            Content = content or "",
            Duration = duration or 5,
        })
    else
        warn("[WindUI Notify Fallback] " .. (content or "Unknown message"))
        game.StarterGui:SetCore("SendNotification", {
            Title = title or "Nexa Notify",
            Text = content or "Terjadi error!",
            Duration = duration or 5,
        })
    end
end

-- Jalankan skrip game jika ditemukan
if scriptUrl then
    local success, err = pcall(function()
        loadstring(game:HttpGet(scriptUrl))()
    end)

    if success then
        NotifyWindUI("Nexa Loader", "Script loaded successfully!", 5)
    else
        NotifyWindUI("Nexa Loader", "Failed to load script:\n" .. tostring(err), 8)
        warn("Failed to load script:", err)
    end
else
    NotifyWindUI("Nexa Loader", "Unsupported game (PlaceId: " .. tostring(placeId) .. ")", 6)
    warn("Unsupported game. PlaceId:", placeId)
end
